"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/medical-certificate/[subtype]/page",{

/***/ "(app-pages-browser)/./lib/stripe/checkout.ts":
/*!********************************!*\
  !*** ./lib/stripe/checkout.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRequestAndCheckoutAction: () => (/* binding */ createRequestAndCheckoutAction),\n/* harmony export */   createTestRequestAction: () => (/* binding */ createTestRequestAction),\n/* harmony export */   retryPaymentForRequestAction: () => (/* binding */ retryPaymentForRequestAction)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"400025ca6e2498358b825affc0bae3adb068a0da0c\":\"createRequestAndCheckoutAction\",\"4082f182da803516abbe00366c399b1a17f24a4faa\":\"createTestRequestAction\",\"40c64e7936d2e05ad5bdd400203ccdb881c3cad55b\":\"retryPaymentForRequestAction\"} */ \nvar createRequestAndCheckoutAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"400025ca6e2498358b825affc0bae3adb068a0da0c\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"createRequestAndCheckoutAction\");\nvar createTestRequestAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"4082f182da803516abbe00366c399b1a17f24a4faa\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"createTestRequestAction\");\nvar retryPaymentForRequestAction = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40c64e7936d2e05ad5bdd400203ccdb881c3cad55b\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"retryPaymentForRequestAction\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9zdHJpcGUvY2hlY2tvdXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0lBMERzQkEsK0NBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQTJKQUMsd0NBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQTtJQTRGQUMsNkNBQUFBLDZGQUFBQSwrQ0FBQUEsOEVBQUFBLFVBQUFBLG9GQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3JleS9EZXNrdG9wL2luc3RhbnRtZWQvaW5zdGFudG1lZC1tYWluL2xpYi9zdHJpcGUvY2hlY2tvdXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCJcblxuaW1wb3J0IHsgc3RyaXBlLCBnZXRQcmljZUlkRm9yUmVxdWVzdCwgdHlwZSBTZXJ2aWNlQ2F0ZWdvcnkgfSBmcm9tIFwiLi9jbGllbnRcIlxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiXG5pbXBvcnQgeyBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhQcm9maWxlIH0gZnJvbSBcIkAvbGliL2F1dGhcIlxuXG5pbnRlcmZhY2UgQ3JlYXRlQ2hlY2tvdXRJbnB1dCB7XG4gIGNhdGVnb3J5OiBTZXJ2aWNlQ2F0ZWdvcnlcbiAgc3VidHlwZTogc3RyaW5nXG4gIHR5cGU6IHN0cmluZ1xuICBhbnN3ZXJzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxufVxuXG5pbnRlcmZhY2UgQ2hlY2tvdXRSZXN1bHQge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIGNoZWNrb3V0VXJsPzogc3RyaW5nXG4gIGVycm9yPzogc3RyaW5nXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGVzdCBtb2RlIGlzIGVuYWJsZWRcbiAqIFRlc3QgbW9kZSBhbGxvd3MgYnlwYXNzaW5nIFN0cmlwZSBmb3IgdGVzdGluZyB0aGUgZmxvd1xuICovXG5mdW5jdGlvbiBpc1Rlc3RNb2RlRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VOQUJMRV9URVNUX01PREUgPT09IFwidHJ1ZVwiXG59XG5cbmZ1bmN0aW9uIGdldEJhc2VVcmwoKTogc3RyaW5nIHtcbiAgLy8gVHJ5IE5FWFRfUFVCTElDX1NJVEVfVVJMIGZpcnN0XG4gIGxldCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkxcblxuICAvLyBGYWxsYmFjayB0byBWRVJDRUxfVVJMIGZvciBWZXJjZWwgZGVwbG95bWVudHNcbiAgaWYgKCFiYXNlVXJsICYmIHByb2Nlc3MuZW52LlZFUkNFTF9VUkwpIHtcbiAgICBiYXNlVXJsID0gYGh0dHBzOi8vJHtwcm9jZXNzLmVudi5WRVJDRUxfVVJMfWBcbiAgfVxuXG4gIC8vIEZpbmFsIGZhbGxiYWNrIHRvIGxvY2FsaG9zdFxuICBpZiAoIWJhc2VVcmwpIHtcbiAgICBiYXNlVXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIlxuICB9XG5cbiAgLy8gRW5zdXJlIFVSTCBkb2Vzbid0IGhhdmUgdHJhaWxpbmcgc2xhc2hcbiAgcmV0dXJuIGJhc2VVcmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpXG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybClcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJlcXVlc3QgYW5kIFN0cmlwZSBjaGVja291dCBzZXNzaW9uXG4gKiBOb3cgbGlua3MgU3RyaXBlIGN1c3RvbWVyIHRvIHByb2ZpbGUgYW5kIHVzZXMgZXhpc3RpbmcgY3VzdG9tZXIgaWYgYXZhaWxhYmxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0QW5kQ2hlY2tvdXRBY3Rpb24oaW5wdXQ6IENyZWF0ZUNoZWNrb3V0SW5wdXQpOiBQcm9taXNlPENoZWNrb3V0UmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgLy8gMS4gR2V0IGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgIGNvbnN0IGF1dGhVc2VyID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoUHJvZmlsZSgpXG4gICAgaWYgKCFhdXRoVXNlcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIllvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBzdWJtaXQgYSByZXF1ZXN0XCIgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhdGllbnRJZCA9IGF1dGhVc2VyLnByb2ZpbGUuaWRcbiAgICBjb25zdCBwYXRpZW50RW1haWwgPSBhdXRoVXNlci51c2VyLmVtYWlsXG5cbiAgICAvLyAyLiBHZXQgdGhlIFN1cGFiYXNlIGNsaWVudFxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcblxuICAgIGNvbnN0IGJhc2VVcmwgPSBnZXRCYXNlVXJsKClcbiAgICBpZiAoIWlzVmFsaWRVcmwoYmFzZVVybCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGJhc2UgVVJMIGNvbmZpZ3VyYXRpb246XCIsIGJhc2VVcmwpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmVyIGNvbmZpZ3VyYXRpb24gZXJyb3IuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIgfVxuICAgIH1cblxuICAgIC8vIDMuIENyZWF0ZSB0aGUgcmVxdWVzdCB3aXRoIHBlbmRpbmdfcGF5bWVudCBzdGF0dXNcbiAgICBjb25zdCB7IGRhdGE6IHJlcXVlc3QsIGVycm9yOiByZXF1ZXN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcInJlcXVlc3RzXCIpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudElkLFxuICAgICAgICB0eXBlOiBpbnB1dC50eXBlLFxuICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICBjYXRlZ29yeTogaW5wdXQuY2F0ZWdvcnksXG4gICAgICAgIHN1YnR5cGU6IGlucHV0LnN1YnR5cGUsXG4gICAgICAgIHBhaWQ6IGZhbHNlLFxuICAgICAgICBwYXltZW50X3N0YXR1czogXCJwZW5kaW5nX3BheW1lbnRcIixcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKHJlcXVlc3RFcnJvciB8fCAhcmVxdWVzdCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHJlcXVlc3Q6XCIsIHJlcXVlc3RFcnJvcilcbiAgICAgIGlmIChyZXF1ZXN0RXJyb3I/LmNvZGUgPT09IFwiMjM1MDNcIikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91ciBwcm9maWxlIGNvdWxkIG5vdCBiZSBmb3VuZC4gUGxlYXNlIHNpZ24gb3V0IGFuZCBzaWduIGluIGFnYWluLlwiIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0RXJyb3I/LmNvZGUgPT09IFwiNDI1MDFcIikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBjcmVhdGUgcmVxdWVzdHMuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgeW91ciByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluLlwiIH1cbiAgICB9XG5cbiAgICAvLyA0LiBJbnNlcnQgdGhlIGFuc3dlcnNcbiAgICBjb25zdCB7IGVycm9yOiBhbnN3ZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJyZXF1ZXN0X2Fuc3dlcnNcIikuaW5zZXJ0KHtcbiAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3QuaWQsXG4gICAgICBhbnN3ZXJzOiBpbnB1dC5hbnN3ZXJzLFxuICAgIH0pXG5cbiAgICBpZiAoYW5zd2Vyc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYW5zd2VyczpcIiwgYW5zd2Vyc0Vycm9yKVxuICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgd2hvbGUgcmVxdWVzdCwgYW5zd2VycyBhcmUgc3VwcGxlbWVudGFyeVxuICAgIH1cblxuICAgIC8vIDUuIEdldCB0aGUgcHJpY2UgSURcbiAgICBjb25zdCBwcmljZUlkID0gZ2V0UHJpY2VJZEZvclJlcXVlc3Qoe1xuICAgICAgY2F0ZWdvcnk6IGlucHV0LmNhdGVnb3J5LFxuICAgICAgc3VidHlwZTogaW5wdXQuc3VidHlwZSxcbiAgICAgIGFuc3dlcnM6IGlucHV0LmFuc3dlcnMsXG4gICAgfSlcblxuICAgIGlmICghcHJpY2VJZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIk5vIHByaWNlIElEIGZvdW5kIGZvcjpcIiwgaW5wdXQuY2F0ZWdvcnksIGlucHV0LnN1YnR5cGUpXG4gICAgICAvLyBDbGVhbiB1cCB0aGUgY3JlYXRlZCByZXF1ZXN0XG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwicmVxdWVzdHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXF1ZXN0LmlkKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlVuYWJsZSB0byBkZXRlcm1pbmUgcHJpY2luZy4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC5cIiB9XG4gICAgfVxuXG4gICAgLy8gNi4gQnVpbGQgc3VjY2VzcyBhbmQgY2FuY2VsIFVSTHMgd2l0aCB2YWxpZGF0aW9uXG4gICAgY29uc3Qgc3VjY2Vzc1VybCA9IGAke2Jhc2VVcmx9L3BhdGllbnQvcmVxdWVzdHMvc3VjY2Vzcz9yZXF1ZXN0X2lkPSR7cmVxdWVzdC5pZH0mc2Vzc2lvbl9pZD17Q0hFQ0tPVVRfU0VTU0lPTl9JRH1gXG4gICAgY29uc3QgY2FuY2VsVXJsID0gYCR7YmFzZVVybH0vcGF0aWVudC9yZXF1ZXN0cy9jYW5jZWxsZWQ/cmVxdWVzdF9pZD0ke3JlcXVlc3QuaWR9YFxuXG4gICAgLy8gNy4gQnVpbGQgY2hlY2tvdXQgc2Vzc2lvbiBwYXJhbXNcbiAgICBjb25zdCBzZXNzaW9uUGFyYW1zOiBQYXJhbWV0ZXJzPHR5cGVvZiBzdHJpcGUuY2hlY2tvdXQuc2Vzc2lvbnMuY3JlYXRlPlswXSA9IHtcbiAgICAgIGxpbmVfaXRlbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHByaWNlOiBwcmljZUlkLFxuICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIG1vZGU6IFwicGF5bWVudFwiLFxuICAgICAgc3VjY2Vzc191cmw6IHN1Y2Nlc3NVcmwsXG4gICAgICBjYW5jZWxfdXJsOiBjYW5jZWxVcmwsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICByZXF1ZXN0X2lkOiByZXF1ZXN0LmlkLFxuICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQsXG4gICAgICAgIGNhdGVnb3J5OiBpbnB1dC5jYXRlZ29yeSxcbiAgICAgICAgc3VidHlwZTogaW5wdXQuc3VidHlwZSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgaWYgKGF1dGhVc2VyLnByb2ZpbGUuc3RyaXBlX2N1c3RvbWVyX2lkKSB7XG4gICAgICBzZXNzaW9uUGFyYW1zLmN1c3RvbWVyID0gYXV0aFVzZXIucHJvZmlsZS5zdHJpcGVfY3VzdG9tZXJfaWRcbiAgICB9IGVsc2Uge1xuICAgICAgc2Vzc2lvblBhcmFtcy5jdXN0b21lcl9lbWFpbCA9IHBhdGllbnRFbWFpbCB8fCB1bmRlZmluZWRcbiAgICAgIHNlc3Npb25QYXJhbXMuY3VzdG9tZXJfY3JlYXRpb24gPSBcImFsd2F5c1wiIC8vIEFsd2F5cyBjcmVhdGUgYSBjdXN0b21lciBmb3IgbmV3IHVzZXJzXG4gICAgfVxuXG4gICAgLy8gOC4gQ3JlYXRlIFN0cmlwZSBjaGVja291dCBzZXNzaW9uXG4gICAgbGV0IHNlc3Npb25cbiAgICB0cnkge1xuICAgICAgc2Vzc2lvbiA9IGF3YWl0IHN0cmlwZS5jaGVja291dC5zZXNzaW9ucy5jcmVhdGUoc2Vzc2lvblBhcmFtcylcbiAgICB9IGNhdGNoIChzdHJpcGVFcnJvcjogdW5rbm93bikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlN0cmlwZSBlcnJvcjpcIiwgc3RyaXBlRXJyb3IpXG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwicmVxdWVzdHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXF1ZXN0LmlkKVxuXG4gICAgICBpZiAoc3RyaXBlRXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoc3RyaXBlRXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIkludmFsaWQgVVJMXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZlciBjb25maWd1cmF0aW9uIGVycm9yLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LlwiIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyaXBlRXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIk5vIHN1Y2ggcHJpY2VcIikpIHtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVGhpcyBzZXJ2aWNlIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgc3lzdGVtIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLlwiIH1cbiAgICB9XG5cbiAgICBpZiAoIXNlc3Npb24udXJsKSB7XG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbShcInJlcXVlc3RzXCIpLmRlbGV0ZSgpLmVxKFwiaWRcIiwgcmVxdWVzdC5pZClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIGNoZWNrb3V0IHNlc3Npb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIgfVxuICAgIH1cblxuICAgIC8vIDkuIENyZWF0ZSBwYXltZW50IHJlY29yZFxuICAgIGNvbnN0IHsgZXJyb3I6IHBheW1lbnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInBheW1lbnRzXCIpLmluc2VydCh7XG4gICAgICByZXF1ZXN0X2lkOiByZXF1ZXN0LmlkLFxuICAgICAgc3RyaXBlX3Nlc3Npb25faWQ6IHNlc3Npb24uaWQsXG4gICAgICBhbW91bnQ6IHNlc3Npb24uYW1vdW50X3RvdGFsIHx8IDAsXG4gICAgICBjdXJyZW5jeTogc2Vzc2lvbi5jdXJyZW5jeSB8fCBcImF1ZFwiLFxuICAgICAgc3RhdHVzOiBcImNyZWF0ZWRcIixcbiAgICB9KVxuXG4gICAgaWYgKHBheW1lbnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHBheW1lbnQgcmVjb3JkOlwiLCBwYXltZW50RXJyb3IpXG4gICAgICAvLyBEb24ndCBmYWlsIC0gdGhlIHBheW1lbnQgcmVjb3JkIGlzIGZvciB0cmFja2luZywgU3RyaXBlIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjaGVja291dFVybDogc2Vzc2lvbi51cmwgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBjcmVhdGVSZXF1ZXN0QW5kQ2hlY2tvdXRBY3Rpb246XCIsIGVycm9yKVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cy5cIixcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZXF1ZXN0IHdpdGggdGVzdCBwYXltZW50IChieXBhc3NlcyBTdHJpcGUpXG4gKiBPbmx5IGF2YWlsYWJsZSB3aGVuIE5FWFRfUFVCTElDX0VOQUJMRV9URVNUX01PREUgaXMgdHJ1ZVxuICogVGhpcyBkaXJlY3RseSBtYXJrcyB0aGUgcmVxdWVzdCBhcyBwYWlkIGFuZCByZWRpcmVjdHMgdG8gc3VjY2Vzc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVzdFJlcXVlc3RBY3Rpb24oaW5wdXQ6IENyZWF0ZUNoZWNrb3V0SW5wdXQpOiBQcm9taXNlPENoZWNrb3V0UmVzdWx0PiB7XG4gIC8vIERvdWJsZS1jaGVjayB0ZXN0IG1vZGUgaXMgZW5hYmxlZCAoc2VydmVyLXNpZGUgdmFsaWRhdGlvbilcbiAgaWYgKCFpc1Rlc3RNb2RlRW5hYmxlZCgpKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlRlc3QgbW9kZSBpcyBub3QgZW5hYmxlZFwiIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gMS4gR2V0IGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgIGNvbnN0IGF1dGhVc2VyID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoUHJvZmlsZSgpXG4gICAgaWYgKCFhdXRoVXNlcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIllvdSBtdXN0IGJlIGxvZ2dlZCBpbiB0byBzdWJtaXQgYSByZXF1ZXN0XCIgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhdGllbnRJZCA9IGF1dGhVc2VyLnByb2ZpbGUuaWRcblxuICAgIC8vIDIuIEdldCB0aGUgU3VwYWJhc2UgY2xpZW50XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKVxuXG4gICAgY29uc3QgYmFzZVVybCA9IGdldEJhc2VVcmwoKVxuICAgIGlmICghaXNWYWxpZFVybChiYXNlVXJsKSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgYmFzZSBVUkwgY29uZmlndXJhdGlvbjpcIiwgYmFzZVVybClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2ZXIgY29uZmlndXJhdGlvbiBlcnJvci4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC5cIiB9XG4gICAgfVxuXG4gICAgLy8gMy4gQ3JlYXRlIHRoZSByZXF1ZXN0IHdpdGggUEFJRCBzdGF0dXMgKGJ5cGFzc2luZyBwYXltZW50KVxuICAgIGNvbnN0IHsgZGF0YTogcmVxdWVzdCwgZXJyb3I6IHJlcXVlc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwicmVxdWVzdHNcIilcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQsXG4gICAgICAgIHR5cGU6IGlucHV0LnR5cGUsXG4gICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsIC8vIFZpc2libGUgdG8gZG9jdG9ycyBpbW1lZGlhdGVseVxuICAgICAgICBjYXRlZ29yeTogaW5wdXQuY2F0ZWdvcnksXG4gICAgICAgIHN1YnR5cGU6IGlucHV0LnN1YnR5cGUsXG4gICAgICAgIHBhaWQ6IHRydWUsIC8vIE1hcmsgYXMgcGFpZCBpbW1lZGlhdGVseVxuICAgICAgICBwYXltZW50X3N0YXR1czogXCJwYWlkXCIsIC8vIFNraXAgcGF5bWVudCBzdGVwXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChyZXF1ZXN0RXJyb3IgfHwgIXJlcXVlc3QpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyB0ZXN0IHJlcXVlc3Q6XCIsIHJlcXVlc3RFcnJvcilcbiAgICAgIGlmIChyZXF1ZXN0RXJyb3I/LmNvZGUgPT09IFwiMjM1MDNcIikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91ciBwcm9maWxlIGNvdWxkIG5vdCBiZSBmb3VuZC4gUGxlYXNlIHNpZ24gb3V0IGFuZCBzaWduIGluIGFnYWluLlwiIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0RXJyb3I/LmNvZGUgPT09IFwiNDI1MDFcIikge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBjcmVhdGUgcmVxdWVzdHMuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgeW91ciByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluLlwiIH1cbiAgICB9XG5cbiAgICAvLyA0LiBJbnNlcnQgdGhlIGFuc3dlcnNcbiAgICBjb25zdCB7IGVycm9yOiBhbnN3ZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJyZXF1ZXN0X2Fuc3dlcnNcIikuaW5zZXJ0KHtcbiAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3QuaWQsXG4gICAgICBhbnN3ZXJzOiBpbnB1dC5hbnN3ZXJzLFxuICAgIH0pXG5cbiAgICBpZiAoYW5zd2Vyc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYW5zd2VyczpcIiwgYW5zd2Vyc0Vycm9yKVxuICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgd2hvbGUgcmVxdWVzdCwgYW5zd2VycyBhcmUgc3VwcGxlbWVudGFyeVxuICAgIH1cblxuICAgIC8vIDUuIENyZWF0ZSBhIHRlc3QgcGF5bWVudCByZWNvcmRcbiAgICBjb25zdCB7IGVycm9yOiBwYXltZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJwYXltZW50c1wiKS5pbnNlcnQoe1xuICAgICAgcmVxdWVzdF9pZDogcmVxdWVzdC5pZCxcbiAgICAgIHN0cmlwZV9zZXNzaW9uX2lkOiBgdGVzdF9zZXNzaW9uXyR7RGF0ZS5ub3coKX1gLFxuICAgICAgYW1vdW50OiAxOTk5LCAvLyAkMTkuOTkgaW4gY2VudHNcbiAgICAgIGN1cnJlbmN5OiBcImF1ZFwiLFxuICAgICAgc3RhdHVzOiBcInBhaWRcIixcbiAgICB9KVxuXG4gICAgaWYgKHBheW1lbnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHRlc3QgcGF5bWVudCByZWNvcmQ6XCIsIHBheW1lbnRFcnJvcilcbiAgICAgIC8vIERvbid0IGZhaWwgLSB0aGUgcGF5bWVudCByZWNvcmQgaXMgZm9yIHRyYWNraW5nXG4gICAgfVxuXG4gICAgLy8gNi4gUmV0dXJuIHN1Y2Nlc3MgVVJMIChzYW1lIGFzIHJlYWwgcGF5bWVudCBzdWNjZXNzKVxuICAgIGNvbnN0IHN1Y2Nlc3NVcmwgPSBgJHtiYXNlVXJsfS9wYXRpZW50L3JlcXVlc3RzL3N1Y2Nlc3M/cmVxdWVzdF9pZD0ke3JlcXVlc3QuaWR9JnNlc3Npb25faWQ9dGVzdF9zZXNzaW9uJnRlc3RfbW9kZT10cnVlYFxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNoZWNrb3V0VXJsOiBzdWNjZXNzVXJsIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gY3JlYXRlVGVzdFJlcXVlc3RBY3Rpb246XCIsIGVycm9yKVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydCBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cy5cIixcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXRyeSBwYXltZW50IGZvciBhbiBleGlzdGluZyByZXF1ZXN0IHdpdGggcGVuZGluZ19wYXltZW50IHN0YXR1c1xuICogTm93IHVzZXMgZXhpc3RpbmcgU3RyaXBlIGN1c3RvbWVyIGlmIGF2YWlsYWJsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV0cnlQYXltZW50Rm9yUmVxdWVzdEFjdGlvbihyZXF1ZXN0SWQ6IHN0cmluZyk6IFByb21pc2U8Q2hlY2tvdXRSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICAvLyAxLiBHZXQgYXV0aGVudGljYXRlZCB1c2VyXG4gICAgY29uc3QgYXV0aFVzZXIgPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhQcm9maWxlKClcbiAgICBpZiAoIWF1dGhVc2VyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiWW91IG11c3QgYmUgbG9nZ2VkIGluXCIgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhdGllbnRJZCA9IGF1dGhVc2VyLnByb2ZpbGUuaWRcbiAgICBjb25zdCBwYXRpZW50RW1haWwgPSBhdXRoVXNlci51c2VyLmVtYWlsXG5cbiAgICAvLyAyLiBHZXQgdGhlIFN1cGFiYXNlIGNsaWVudFxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KClcblxuICAgIC8vIDMuIEZldGNoIHRoZSBleGlzdGluZyByZXF1ZXN0IHdpdGggb3duZXJzaGlwIGNoZWNrXG4gICAgY29uc3QgeyBkYXRhOiByZXF1ZXN0LCBlcnJvcjogcmVxdWVzdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJyZXF1ZXN0c1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImlkXCIsIHJlcXVlc3RJZClcbiAgICAgIC5lcShcInBhdGllbnRfaWRcIiwgcGF0aWVudElkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAocmVxdWVzdEVycm9yIHx8ICFyZXF1ZXN0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcmVxdWVzdCBmb3IgcmV0cnk6XCIsIHJlcXVlc3RFcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJSZXF1ZXN0IG5vdCBmb3VuZFwiIH1cbiAgICB9XG5cbiAgICAvLyA0LiBWZXJpZnkgdGhlIHJlcXVlc3QgaXMgaW4gcGVuZGluZ19wYXltZW50IHN0YXR1c1xuICAgIGlmIChyZXF1ZXN0LnBheW1lbnRfc3RhdHVzICE9PSBcInBlbmRpbmdfcGF5bWVudFwiKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVGhpcyByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gcGFpZCBvciBpcyBub3QgYXdhaXRpbmcgcGF5bWVudFwiIH1cbiAgICB9XG5cbiAgICAvLyA1LiBHZXQgdGhlIHByaWNlIElEIHVzaW5nIGV4aXN0aW5nIHJlcXVlc3QgZGF0YVxuICAgIGNvbnN0IHByaWNlSWQgPSBnZXRQcmljZUlkRm9yUmVxdWVzdCh7XG4gICAgICBjYXRlZ29yeTogcmVxdWVzdC5jYXRlZ29yeSBhcyBTZXJ2aWNlQ2F0ZWdvcnksXG4gICAgICBzdWJ0eXBlOiByZXF1ZXN0LnN1YnR5cGUgfHwgXCJcIixcbiAgICAgIGFuc3dlcnM6IHt9LFxuICAgIH0pXG5cbiAgICAvLyA2LiBHZXQgYmFzZSBVUkwgZm9yIHJlZGlyZWN0c1xuICAgIGNvbnN0IGJhc2VVcmwgPSBnZXRCYXNlVXJsKClcbiAgICBpZiAoIWlzVmFsaWRVcmwoYmFzZVVybCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGJhc2UgVVJMIGNvbmZpZ3VyYXRpb246XCIsIGJhc2VVcmwpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmVyIGNvbmZpZ3VyYXRpb24gZXJyb3IuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuXCIgfVxuICAgIH1cblxuICAgIC8vIDcuIEJ1aWxkIGNoZWNrb3V0IHNlc3Npb24gcGFyYW1zXG4gICAgY29uc3Qgc2Vzc2lvblBhcmFtczogUGFyYW1ldGVyczx0eXBlb2Ygc3RyaXBlLmNoZWNrb3V0LnNlc3Npb25zLmNyZWF0ZT5bMF0gPSB7XG4gICAgICBsaW5lX2l0ZW1zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcmljZTogcHJpY2VJZCxcbiAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBtb2RlOiBcInBheW1lbnRcIixcbiAgICAgIHN1Y2Nlc3NfdXJsOiBgJHtiYXNlVXJsfS9wYXRpZW50L3JlcXVlc3RzL3N1Y2Nlc3M/cmVxdWVzdF9pZD0ke3JlcXVlc3QuaWR9JnNlc3Npb25faWQ9e0NIRUNLT1VUX1NFU1NJT05fSUR9YCxcbiAgICAgIGNhbmNlbF91cmw6IGAke2Jhc2VVcmx9L3BhdGllbnQvcmVxdWVzdHMvY2FuY2VsbGVkP3JlcXVlc3RfaWQ9JHtyZXF1ZXN0LmlkfWAsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICByZXF1ZXN0X2lkOiByZXF1ZXN0LmlkLFxuICAgICAgICBwYXRpZW50X2lkOiBwYXRpZW50SWQsXG4gICAgICAgIGNhdGVnb3J5OiByZXF1ZXN0LmNhdGVnb3J5IHx8IFwiXCIsXG4gICAgICAgIHN1YnR5cGU6IHJlcXVlc3Quc3VidHlwZSB8fCBcIlwiLFxuICAgICAgICBpc19yZXRyeTogXCJ0cnVlXCIsXG4gICAgICB9LFxuICAgIH1cblxuICAgIGlmIChhdXRoVXNlci5wcm9maWxlLnN0cmlwZV9jdXN0b21lcl9pZCkge1xuICAgICAgc2Vzc2lvblBhcmFtcy5jdXN0b21lciA9IGF1dGhVc2VyLnByb2ZpbGUuc3RyaXBlX2N1c3RvbWVyX2lkXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb25QYXJhbXMuY3VzdG9tZXJfZW1haWwgPSBwYXRpZW50RW1haWwgfHwgdW5kZWZpbmVkXG4gICAgICBzZXNzaW9uUGFyYW1zLmN1c3RvbWVyX2NyZWF0aW9uID0gXCJhbHdheXNcIlxuICAgIH1cblxuICAgIC8vIDguIENyZWF0ZSBuZXcgU3RyaXBlIGNoZWNrb3V0IHNlc3Npb24gZm9yIHJldHJ5XG4gICAgbGV0IHNlc3Npb25cbiAgICB0cnkge1xuICAgICAgc2Vzc2lvbiA9IGF3YWl0IHN0cmlwZS5jaGVja291dC5zZXNzaW9ucy5jcmVhdGUoc2Vzc2lvblBhcmFtcylcbiAgICB9IGNhdGNoIChzdHJpcGVFcnJvcjogdW5rbm93bikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlN0cmlwZSBlcnJvcjpcIiwgc3RyaXBlRXJyb3IpXG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKFwicmVxdWVzdHNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCByZXF1ZXN0LmlkKVxuXG4gICAgICBpZiAoc3RyaXBlRXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoc3RyaXBlRXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIkludmFsaWQgVVJMXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZlciBjb25maWd1cmF0aW9uIGVycm9yLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LlwiIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyaXBlRXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIk5vIHN1Y2ggcHJpY2VcIikpIHtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiVGhpcyBzZXJ2aWNlIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgc3lzdGVtIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLlwiIH1cbiAgICB9XG5cbiAgICBpZiAoIXNlc3Npb24udXJsKSB7XG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbShcInJlcXVlc3RzXCIpLmRlbGV0ZSgpLmVxKFwiaWRcIiwgcmVxdWVzdC5pZClcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIGNoZWNrb3V0IHNlc3Npb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIgfVxuICAgIH1cblxuICAgIC8vIDkuIFVwZGF0ZSBvciBpbnNlcnQgcGF5bWVudCByZWNvcmQgZm9yIHRoaXMgbmV3IHNlc3Npb25cbiAgICBjb25zdCB7IGVycm9yOiBwYXltZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJwYXltZW50c1wiKS51cHNlcnQoXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgIHN0cmlwZV9zZXNzaW9uX2lkOiBzZXNzaW9uLmlkLFxuICAgICAgICBhbW91bnQ6IHNlc3Npb24uYW1vdW50X3RvdGFsIHx8IDAsXG4gICAgICAgIGN1cnJlbmN5OiBzZXNzaW9uLmN1cnJlbmN5IHx8IFwiYXVkXCIsXG4gICAgICAgIHN0YXR1czogXCJjcmVhdGVkXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvbkNvbmZsaWN0OiBcInJlcXVlc3RfaWRcIixcbiAgICAgIH0sXG4gICAgKVxuXG4gICAgaWYgKHBheW1lbnRFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHBheW1lbnQgcmVjb3JkOlwiLCBwYXltZW50RXJyb3IpXG4gICAgICAvLyBEb24ndCBmYWlsIC0gdGhlIHBheW1lbnQgcmVjb3JkIGlzIGZvciB0cmFja2luZywgU3RyaXBlIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjaGVja291dFVybDogc2Vzc2lvbi51cmwgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZXRyeVBheW1lbnRGb3JSZXF1ZXN0QWN0aW9uOlwiLCBlcnJvcilcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogXCJTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQgaWYgdGhlIHByb2JsZW0gcGVyc2lzdHMuXCIsXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlUmVxdWVzdEFuZENoZWNrb3V0QWN0aW9uIiwiY3JlYXRlVGVzdFJlcXVlc3RBY3Rpb24iLCJyZXRyeVBheW1lbnRGb3JSZXF1ZXN0QWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/stripe/checkout.ts\n"));

/***/ })

});