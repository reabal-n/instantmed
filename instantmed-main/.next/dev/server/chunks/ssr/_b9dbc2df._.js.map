{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,qNAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/lib/stripe/checkout.ts"],"sourcesContent":["\"use server\"\n\nimport { stripe, getPriceIdForRequest, type ServiceCategory } from \"./client\"\nimport { createClient } from \"@/lib/supabase/server\"\nimport { getAuthenticatedUserWithProfile } from \"@/lib/auth\"\n\ninterface CreateCheckoutInput {\n  category: ServiceCategory\n  subtype: string\n  type: string\n  answers: Record<string, unknown>\n}\n\ninterface CheckoutResult {\n  success: boolean\n  checkoutUrl?: string\n  error?: string\n}\n\nfunction getBaseUrl(): string {\n  // Try NEXT_PUBLIC_SITE_URL first\n  let baseUrl = process.env.NEXT_PUBLIC_SITE_URL\n\n  // Fallback to VERCEL_URL for Vercel deployments\n  if (!baseUrl && process.env.VERCEL_URL) {\n    baseUrl = `https://${process.env.VERCEL_URL}`\n  }\n\n  // Final fallback to localhost\n  if (!baseUrl) {\n    baseUrl = \"http://localhost:3000\"\n  }\n\n  // Ensure URL doesn't have trailing slash\n  return baseUrl.replace(/\\/$/, \"\")\n}\n\nfunction isValidUrl(url: string): boolean {\n  try {\n    new URL(url)\n    return true\n  } catch {\n    return false\n  }\n}\n\n/**\n * Create a request and Stripe checkout session\n * Now links Stripe customer to profile and uses existing customer if available\n */\nexport async function createRequestAndCheckoutAction(input: CreateCheckoutInput): Promise<CheckoutResult> {\n  try {\n    // 1. Get authenticated user\n    const authUser = await getAuthenticatedUserWithProfile()\n    if (!authUser) {\n      return { success: false, error: \"You must be logged in to submit a request\" }\n    }\n\n    const patientId = authUser.profile.id\n    const patientEmail = authUser.user.email\n\n    // 2. Get the Supabase client\n    const supabase = await createClient()\n\n    const baseUrl = getBaseUrl()\n    if (!isValidUrl(baseUrl)) {\n      console.error(\"Invalid base URL configuration:\", baseUrl)\n      return { success: false, error: \"Server configuration error. Please contact support.\" }\n    }\n\n    // 3. Create the request with pending_payment status\n    const { data: request, error: requestError } = await supabase\n      .from(\"requests\")\n      .insert({\n        patient_id: patientId,\n        type: input.type,\n        status: \"pending\",\n        category: input.category,\n        subtype: input.subtype,\n        paid: false,\n        payment_status: \"pending_payment\",\n      })\n      .select()\n      .single()\n\n    if (requestError || !request) {\n      console.error(\"Error creating request:\", requestError)\n      if (requestError?.code === \"23503\") {\n        return { success: false, error: \"Your profile could not be found. Please sign out and sign in again.\" }\n      }\n      if (requestError?.code === \"42501\") {\n        return { success: false, error: \"You don't have permission to create requests. Please contact support.\" }\n      }\n      return { success: false, error: \"Failed to create your request. Please try again.\" }\n    }\n\n    // 4. Insert the answers\n    const { error: answersError } = await supabase.from(\"request_answers\").insert({\n      request_id: request.id,\n      answers: input.answers,\n    })\n\n    if (answersError) {\n      console.error(\"Error creating answers:\", answersError)\n      // Don't fail the whole request, answers are supplementary\n    }\n\n    // 5. Get the price ID\n    const priceId = getPriceIdForRequest({\n      category: input.category,\n      subtype: input.subtype,\n      answers: input.answers,\n    })\n\n    if (!priceId) {\n      console.error(\"No price ID found for:\", input.category, input.subtype)\n      // Clean up the created request\n      await supabase.from(\"requests\").delete().eq(\"id\", request.id)\n      return { success: false, error: \"Unable to determine pricing. Please contact support.\" }\n    }\n\n    // 6. Build success and cancel URLs with validation\n    const successUrl = `${baseUrl}/patient/requests/success?request_id=${request.id}&session_id={CHECKOUT_SESSION_ID}`\n    const cancelUrl = `${baseUrl}/patient/requests/cancelled?request_id=${request.id}`\n\n    // 7. Build checkout session params\n    const sessionParams: Parameters<typeof stripe.checkout.sessions.create>[0] = {\n      line_items: [\n        {\n          price: priceId,\n          quantity: 1,\n        },\n      ],\n      mode: \"payment\",\n      success_url: successUrl,\n      cancel_url: cancelUrl,\n      metadata: {\n        request_id: request.id,\n        patient_id: patientId,\n        category: input.category,\n        subtype: input.subtype,\n      },\n    }\n\n    if (authUser.profile.stripe_customer_id) {\n      sessionParams.customer = authUser.profile.stripe_customer_id\n    } else {\n      sessionParams.customer_email = patientEmail || undefined\n      sessionParams.customer_creation = \"always\" // Always create a customer for new users\n    }\n\n    // 8. Create Stripe checkout session\n    let session\n    try {\n      session = await stripe.checkout.sessions.create(sessionParams)\n    } catch (stripeError: unknown) {\n      console.error(\"Stripe error:\", stripeError)\n      await supabase.from(\"requests\").delete().eq(\"id\", request.id)\n\n      if (stripeError instanceof Error) {\n        if (stripeError.message.includes(\"Invalid URL\")) {\n          return { success: false, error: \"Server configuration error. Please contact support.\" }\n        }\n        if (stripeError.message.includes(\"No such price\")) {\n          return { success: false, error: \"This service is temporarily unavailable. Please try again later.\" }\n        }\n      }\n      return { success: false, error: \"Payment system error. Please try again.\" }\n    }\n\n    if (!session.url) {\n      // Clean up\n      await supabase.from(\"requests\").delete().eq(\"id\", request.id)\n      return { success: false, error: \"Failed to create checkout session. Please try again.\" }\n    }\n\n    // 9. Create payment record\n    const { error: paymentError } = await supabase.from(\"payments\").insert({\n      request_id: request.id,\n      stripe_session_id: session.id,\n      amount: session.amount_total || 0,\n      currency: session.currency || \"aud\",\n      status: \"created\",\n    })\n\n    if (paymentError) {\n      console.error(\"Error creating payment record:\", paymentError)\n      // Don't fail - the payment record is for tracking, Stripe is the source of truth\n    }\n\n    return { success: true, checkoutUrl: session.url }\n  } catch (error) {\n    console.error(\"Error in createRequestAndCheckoutAction:\", error)\n    return {\n      success: false,\n      error: \"Something went wrong. Please try again or contact support if the problem persists.\",\n    }\n  }\n}\n\n/**\n * Retry payment for an existing request with pending_payment status\n * Now uses existing Stripe customer if available\n */\nexport async function retryPaymentForRequestAction(requestId: string): Promise<CheckoutResult> {\n  try {\n    // 1. Get authenticated user\n    const authUser = await getAuthenticatedUserWithProfile()\n    if (!authUser) {\n      return { success: false, error: \"You must be logged in\" }\n    }\n\n    const patientId = authUser.profile.id\n    const patientEmail = authUser.user.email\n\n    // 2. Get the Supabase client\n    const supabase = await createClient()\n\n    // 3. Fetch the existing request with ownership check\n    const { data: request, error: requestError } = await supabase\n      .from(\"requests\")\n      .select(\"*\")\n      .eq(\"id\", requestId)\n      .eq(\"patient_id\", patientId)\n      .single()\n\n    if (requestError || !request) {\n      console.error(\"Error fetching request for retry:\", requestError)\n      return { success: false, error: \"Request not found\" }\n    }\n\n    // 4. Verify the request is in pending_payment status\n    if (request.payment_status !== \"pending_payment\") {\n      return { success: false, error: \"This request has already been paid or is not awaiting payment\" }\n    }\n\n    // 5. Get the price ID using existing request data\n    const priceId = getPriceIdForRequest({\n      category: request.category as ServiceCategory,\n      subtype: request.subtype || \"\",\n      answers: {},\n    })\n\n    // 6. Get base URL for redirects\n    const baseUrl = getBaseUrl()\n    if (!isValidUrl(baseUrl)) {\n      console.error(\"Invalid base URL configuration:\", baseUrl)\n      return { success: false, error: \"Server configuration error. Please contact support.\" }\n    }\n\n    // 7. Build checkout session params\n    const sessionParams: Parameters<typeof stripe.checkout.sessions.create>[0] = {\n      line_items: [\n        {\n          price: priceId,\n          quantity: 1,\n        },\n      ],\n      mode: \"payment\",\n      success_url: `${baseUrl}/patient/requests/success?request_id=${request.id}&session_id={CHECKOUT_SESSION_ID}`,\n      cancel_url: `${baseUrl}/patient/requests/cancelled?request_id=${request.id}`,\n      metadata: {\n        request_id: request.id,\n        patient_id: patientId,\n        category: request.category || \"\",\n        subtype: request.subtype || \"\",\n        is_retry: \"true\",\n      },\n    }\n\n    if (authUser.profile.stripe_customer_id) {\n      sessionParams.customer = authUser.profile.stripe_customer_id\n    } else {\n      sessionParams.customer_email = patientEmail || undefined\n      sessionParams.customer_creation = \"always\"\n    }\n\n    // 8. Create new Stripe checkout session for retry\n    let session\n    try {\n      session = await stripe.checkout.sessions.create(sessionParams)\n    } catch (stripeError: unknown) {\n      console.error(\"Stripe error:\", stripeError)\n      await supabase.from(\"requests\").delete().eq(\"id\", request.id)\n\n      if (stripeError instanceof Error) {\n        if (stripeError.message.includes(\"Invalid URL\")) {\n          return { success: false, error: \"Server configuration error. Please contact support.\" }\n        }\n        if (stripeError.message.includes(\"No such price\")) {\n          return { success: false, error: \"This service is temporarily unavailable. Please try again later.\" }\n        }\n      }\n      return { success: false, error: \"Payment system error. Please try again.\" }\n    }\n\n    if (!session.url) {\n      // Clean up\n      await supabase.from(\"requests\").delete().eq(\"id\", request.id)\n      return { success: false, error: \"Failed to create checkout session. Please try again.\" }\n    }\n\n    // 9. Update or insert payment record for this new session\n    const { error: paymentError } = await supabase.from(\"payments\").upsert(\n      {\n        request_id: request.id,\n        stripe_session_id: session.id,\n        amount: session.amount_total || 0,\n        currency: session.currency || \"aud\",\n        status: \"created\",\n      },\n      {\n        onConflict: \"request_id\",\n      },\n    )\n\n    if (paymentError) {\n      console.error(\"Error updating payment record:\", paymentError)\n      // Don't fail - the payment record is for tracking, Stripe is the source of truth\n    }\n\n    return { success: true, checkoutUrl: session.url }\n  } catch (error) {\n    console.error(\"Error in retryPaymentForRequestAction:\", error)\n    return {\n      success: false,\n      error: \"Something went wrong. Please try again or contact support if the problem persists.\",\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAkDsB,iCAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/lib/supabase/client.ts"],"sourcesContent":["import { createClient as createSupabaseClient } from \"@supabase/supabase-js\"\nimport type { SupabaseClient } from \"@supabase/supabase-js\"\n\nlet supabaseClient: SupabaseClient | null = null\n\n// Browser client for use in client components\n// Import this in any 'use client' component that needs Supabase\nexport function createClient() {\n  if (supabaseClient) {\n    return supabaseClient\n  }\n\n  supabaseClient = createSupabaseClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      auth: {\n        persistSession: true,\n        autoRefreshToken: true,\n        detectSessionInUrl: true,\n      },\n    },\n  )\n\n  return supabaseClient\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGA,IAAI,iBAAwC;AAIrC,SAAS;IACd,IAAI,gBAAgB;QAClB,OAAO;IACT;IAEA,iBAAiB,IAAA,uLAAoB,sUAGnC;QACE,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;IACF;IAGF,OAAO;AACT"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/app/actions/create-profile.ts"],"sourcesContent":["\"use server\"\n\nimport { createServiceRoleClient } from \"@/lib/supabase/service-role\"\n\nexport async function createOrGetProfile(\n  authUserId: string,\n  fullName: string,\n  dateOfBirth: string,\n): Promise<{ profileId: string | null; error: string | null }> {\n  const supabase = createServiceRoleClient()\n\n  try {\n    // First verify the user exists in auth.users\n    const { data: authUser, error: authError } = await supabase.auth.admin.getUserById(authUserId)\n\n    if (authError || !authUser?.user) {\n      return {\n        profileId: null,\n        error: \"User not found. Please confirm your email first.\",\n      }\n    }\n\n    // Check if profile already exists\n    const { data: existingProfile } = await supabase\n      .from(\"profiles\")\n      .select(\"id\")\n      .eq(\"auth_user_id\", authUserId)\n      .single()\n\n    if (existingProfile) {\n      // Update with the provided info if we have it\n      if (fullName || dateOfBirth) {\n        await supabase\n          .from(\"profiles\")\n          .update({\n            ...(fullName && { full_name: fullName }),\n            ...(dateOfBirth && { date_of_birth: dateOfBirth }),\n          })\n          .eq(\"id\", existingProfile.id)\n      }\n\n      return { profileId: existingProfile.id, error: null }\n    }\n\n    // Create new profile - user is verified to exist\n    const { data: newProfile, error: insertError } = await supabase\n      .from(\"profiles\")\n      .insert({\n        auth_user_id: authUserId,\n        full_name: fullName || \"User\",\n        date_of_birth: dateOfBirth || null,\n        role: \"patient\",\n        onboarding_completed: false,\n      })\n      .select(\"id\")\n      .single()\n\n    if (insertError) {\n      console.error(\"Profile insert error:\", insertError)\n      return { profileId: null, error: insertError.message }\n    }\n\n    return { profileId: newProfile.id, error: null }\n  } catch (err) {\n    console.error(\"createOrGetProfile error:\", err)\n    return { profileId: null, error: err instanceof Error ? err.message : \"Failed to create profile\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAIsB,qBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\n\nimport { cn } from '@/lib/utils'\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,8OAAC,+KAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,8OAAC;kBACC,cAAA,8OAAC,2KAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,8OAAC,8KAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,kHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,8OAAC,4KAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/lib/microcopy/med-cert.ts"],"sourcesContent":["/**\n * Medical Certificate Flow Microcopy Dictionary\n *\n * Tone: calm, neutral, helpful, compliant\n * Avoids: guaranteed outcomes, diagnosis without assessment,\n *         asynchronous telehealth, shortcuts or loopholes\n */\n\nexport const MICROCOPY = {\n  // Global\n  turnaround: \"Usually within 1 hour (8am–10pm AEST)\",\n  doctorReview: \"A GP will review your information\",\n  noPhone: \"No phone call needed\",\n  mayRequest: \"We may request further details if needed\",\n\n  // Step: Type\n  type: {\n    heading: \"What type of certificate do you need?\",\n    subtitle: \"Select one option\",\n    work: {\n      label: \"Work\",\n      description: \"For your employer\",\n    },\n    uni: {\n      label: \"Study\",\n      description: \"For university or school\",\n    },\n    carer: {\n      label: \"Carer's leave\",\n      description: \"To care for someone\",\n    },\n  },\n\n  // Step: Duration\n  duration: {\n    heading: \"How long do you need off?\",\n    subtitle: undefined,\n    options: {\n      \"1\": \"1 day\",\n      \"2\": \"2 days\",\n      \"3\": \"3 days\",\n      \"4-7\": \"4–7 days\",\n      \"1-2weeks\": \"1–2 weeks\",\n      specific: \"Other dates\",\n    },\n    dateFrom: \"Start date\",\n    dateTo: \"End date\",\n  },\n\n  // Step: Symptoms\n  symptoms: {\n    heading: \"What symptoms are you experiencing?\",\n    headingCarer: \"What symptoms are they experiencing?\",\n    subtitle: \"Select all that apply\",\n    carerName: \"Name of person you're caring for\",\n    carerNamePlaceholder: \"Their full name\",\n    relationship: \"Your relationship to them\",\n    otherLabel: \"Please describe\",\n    otherPlaceholder: \"Brief description\",\n  },\n\n  // Step: Notes\n  notes: {\n    heading: \"Any additional information?\",\n    subtitle: \"Optional — helps the GP understand your situation\",\n    placeholder: \"e.g. symptoms started yesterday evening...\",\n    charCount: (count: number) => `${count}/500`,\n  },\n\n  // Step: Safety\n  safety: {\n    heading: \"Safety check\",\n    subtitle: \"To ensure this service is appropriate for you\",\n    questions: {\n      chestPain: \"Any chest pain or breathing difficulty?\",\n      severe: \"Are symptoms severe or getting worse?\",\n      emergency: \"Do you feel this may be an emergency?\",\n    },\n    no: \"No\",\n    yes: \"Yes\",\n    alert: {\n      heading: \"Please seek urgent care\",\n      body: \"Based on your answers, we recommend you contact emergency services or visit your nearest emergency department.\",\n      cta: \"Call 000\",\n    },\n  },\n\n  // Step: Medicare\n  medicare: {\n    heading: \"Your Medicare details\",\n    subtitle: \"Required for your certificate\",\n    numberLabel: \"Medicare card number\",\n    numberPlaceholder: \"0000 00000 0\",\n    irnLabel: \"IRN\",\n    irnTooltip: \"The number next to your name on your Medicare card (1–9)\",\n    dobLabel: \"Date of birth\",\n    valid: \"Valid\",\n    errors: {\n      incomplete: (remaining: number) => `${remaining} more digit${remaining === 1 ? \"\" : \"s\"} needed`,\n      startDigit: \"Must start with 2, 3, 4, 5, or 6\",\n      checksum: \"Please check your Medicare number\",\n    },\n  },\n\n  // Step: Signup\n  signup: {\n    headingNew: \"Create an account\",\n    headingExisting: \"Sign in\",\n    subtitle: \"To receive your certificate\",\n    google: \"Continue with Google\",\n    or: \"or\",\n    nameLabel: \"Full name\",\n    namePlaceholder: \"Your name\",\n    emailLabel: \"Email\",\n    emailPlaceholder: \"you@example.com\",\n    passwordLabel: \"Password\",\n    passwordPlaceholderNew: \"Create a password\",\n    passwordPlaceholderExisting: \"Your password\",\n    showPassword: \"Show password\",\n    hidePassword: \"Hide password\",\n    forgotPassword: \"Forgot password?\",\n    terms: {\n      prefix: \"I agree to the\",\n      termsLink: \"Terms of Service\",\n      and: \"and\",\n      privacyLink: \"Privacy Policy\",\n    },\n    ctaNew: \"Create account\",\n    ctaExisting: \"Sign in\",\n    switchToExisting: \"Already have an account?\",\n    switchToNew: \"New here?\",\n    signIn: \"Sign in\",\n    createAccount: \"Create account\",\n    confirmEmail: \"Please check your email to confirm, then sign in.\",\n  },\n\n  // Step: Review\n  review: {\n    heading: \"Review your request\",\n    subtitle: \"Please confirm these details are correct\",\n    certificateType: \"Certificate type\",\n    duration: \"Duration\",\n    symptoms: \"Symptoms\",\n    notes: \"Notes\",\n    medicare: \"Medicare\",\n    edit: \"Edit\",\n    none: \"None provided\",\n  },\n\n  // Step: Payment\n  payment: {\n    heading: \"Complete payment\",\n    subtitle: \"You'll receive your certificate after a GP reviews your request\",\n    price: \"$19.99\",\n    includes: [\"GP review of your information\", \"Digital certificate (if approved)\", \"Secure document storage\"],\n    disclaimer:\n      \"A GP will review your information and may request further details if needed. Certificates are issued at the GP's discretion based on clinical assessment.\",\n    cta: \"Pay & submit request\",\n    processing: \"Processing...\",\n  },\n\n  // Navigation\n  nav: {\n    back: \"Back\",\n    continue: \"Continue\",\n    skip: \"Skip\",\n  },\n\n  // Errors\n  errors: {\n    generic: \"Something went wrong. Please try again.\",\n    signIn: \"Unable to sign in. Please check your details.\",\n    signUp: \"Unable to create account. Please try again.\",\n    payment: \"Payment could not be processed. Please try again.\",\n    session: \"Your session has expired. Please sign in again.\",\n  },\n} as const\n\nexport type MicrocopyKey = keyof typeof MICROCOPY\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;AAEM,MAAM,YAAY;IACvB,SAAS;IACT,YAAY;IACZ,cAAc;IACd,SAAS;IACT,YAAY;IAEZ,aAAa;IACb,MAAM;QACJ,SAAS;QACT,UAAU;QACV,MAAM;YACJ,OAAO;YACP,aAAa;QACf;QACA,KAAK;YACH,OAAO;YACP,aAAa;QACf;QACA,OAAO;YACL,OAAO;YACP,aAAa;QACf;IACF;IAEA,iBAAiB;IACjB,UAAU;QACR,SAAS;QACT,UAAU;QACV,SAAS;YACP,KAAK;YACL,KAAK;YACL,KAAK;YACL,OAAO;YACP,YAAY;YACZ,UAAU;QACZ;QACA,UAAU;QACV,QAAQ;IACV;IAEA,iBAAiB;IACjB,UAAU;QACR,SAAS;QACT,cAAc;QACd,UAAU;QACV,WAAW;QACX,sBAAsB;QACtB,cAAc;QACd,YAAY;QACZ,kBAAkB;IACpB;IAEA,cAAc;IACd,OAAO;QACL,SAAS;QACT,UAAU;QACV,aAAa;QACb,WAAW,CAAC,QAAkB,GAAG,MAAM,IAAI,CAAC;IAC9C;IAEA,eAAe;IACf,QAAQ;QACN,SAAS;QACT,UAAU;QACV,WAAW;YACT,WAAW;YACX,QAAQ;YACR,WAAW;QACb;QACA,IAAI;QACJ,KAAK;QACL,OAAO;YACL,SAAS;YACT,MAAM;YACN,KAAK;QACP;IACF;IAEA,iBAAiB;IACjB,UAAU;QACR,SAAS;QACT,UAAU;QACV,aAAa;QACb,mBAAmB;QACnB,UAAU;QACV,YAAY;QACZ,UAAU;QACV,OAAO;QACP,QAAQ;YACN,YAAY,CAAC,YAAsB,GAAG,UAAU,WAAW,EAAE,cAAc,IAAI,KAAK,IAAI,OAAO,CAAC;YAChG,YAAY;YACZ,UAAU;QACZ;IACF;IAEA,eAAe;IACf,QAAQ;QACN,YAAY;QACZ,iBAAiB;QACjB,UAAU;QACV,QAAQ;QACR,IAAI;QACJ,WAAW;QACX,iBAAiB;QACjB,YAAY;QACZ,kBAAkB;QAClB,eAAe;QACf,wBAAwB;QACxB,6BAA6B;QAC7B,cAAc;QACd,cAAc;QACd,gBAAgB;QAChB,OAAO;YACL,QAAQ;YACR,WAAW;YACX,KAAK;YACL,aAAa;QACf;QACA,QAAQ;QACR,aAAa;QACb,kBAAkB;QAClB,aAAa;QACb,QAAQ;QACR,eAAe;QACf,cAAc;IAChB;IAEA,eAAe;IACf,QAAQ;QACN,SAAS;QACT,UAAU;QACV,iBAAiB;QACjB,UAAU;QACV,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;QACN,MAAM;IACR;IAEA,gBAAgB;IAChB,SAAS;QACP,SAAS;QACT,UAAU;QACV,OAAO;QACP,UAAU;YAAC;YAAiC;YAAqC;SAA0B;QAC3G,YACE;QACF,KAAK;QACL,YAAY;IACd;IAEA,aAAa;IACb,KAAK;QACH,MAAM;QACN,UAAU;QACV,MAAM;IACR;IAEA,SAAS;IACT,QAAQ;QACN,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,SAAS;QACT,SAAS;IACX;AACF"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/rey/Desktop/instantmed/instantmed-main/app/medical-certificate/request/med-cert-flow-client.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useEffect, useCallback, useRef } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport {\n  ArrowRight,\n  ArrowLeft,\n  Loader2,\n  Clock,\n  CheckCircle,\n  AlertTriangle,\n  Briefcase,\n  GraduationCap,\n  Heart,\n  Eye,\n  EyeOff,\n  HelpCircle,\n  X,\n  AlertCircle,\n  Check,\n  FileText,\n  Shield,\n  Pencil,\n} from \"lucide-react\"\nimport { createRequestAndCheckoutAction } from \"@/lib/stripe/checkout\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { createOrGetProfile } from \"@/app/actions/create-profile\"\nimport { Tooltip, TooltipProvider, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { Label } from \"@/components/ui/label\"\nimport { MICROCOPY } from \"@/lib/microcopy/med-cert\"\n\n// Flow steps\ntype FlowStep = \"type\" | \"duration\" | \"symptoms\" | \"notes\" | \"safety\" | \"medicare\" | \"signup\" | \"review\" | \"payment\"\n\nconst STEPS: FlowStep[] = [\"type\", \"duration\", \"symptoms\", \"notes\", \"safety\", \"medicare\", \"signup\", \"review\", \"payment\"]\n\n// Certificate types with compliant labels\nconst CERT_TYPES = [\n  { id: \"work\", label: MICROCOPY.type.work.label, icon: Briefcase, description: MICROCOPY.type.work.description },\n  { id: \"uni\", label: MICROCOPY.type.uni.label, icon: GraduationCap, description: MICROCOPY.type.uni.description },\n  { id: \"carer\", label: MICROCOPY.type.carer.label, icon: Heart, description: MICROCOPY.type.carer.description },\n] as const\n\n// Duration options with compliant labels\nconst DURATION_OPTIONS = [\n  { value: \"1\", label: MICROCOPY.duration.options[\"1\"] },\n  { value: \"2\", label: MICROCOPY.duration.options[\"2\"] },\n  { value: \"3\", label: MICROCOPY.duration.options[\"3\"] },\n  { value: \"4-7\", label: MICROCOPY.duration.options[\"4-7\"] },\n  { value: \"1-2weeks\", label: MICROCOPY.duration.options[\"1-2weeks\"] },\n  { value: \"specific\", label: MICROCOPY.duration.options[\"specific\"] },\n] as const\n\n// Symptoms\nconst SYMPTOMS = [\"Headache\", \"Fever\", \"Nausea\", \"Pain\", \"Fatigue\", \"Cold/Flu\", \"Gastro\", \"Other\"] as const\n\n// Relationships for carer's certificate\nconst RELATIONSHIPS = [\"Parent\", \"Child\", \"Partner\", \"Sibling\", \"Grandparent\", \"Other\"] as const\n\nconst IRNS = [1, 2, 3, 4, 5, 6, 7, 8, 9] as const\n\ninterface MedCertFlowClientProps {\n  patientId: string | null\n  isAuthenticated: boolean\n  needsOnboarding: boolean\n  userEmail?: string\n  userName?: string\n}\n\n// Google icon component\nfunction GoogleIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n      <path\n        fill=\"#4285F4\"\n        d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n      />\n      <path\n        fill=\"#34A853\"\n        d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n      />\n      <path\n        fill=\"#FBBC05\"\n        d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n      />\n      <path\n        fill=\"#EA4335\"\n        d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n      />\n    </svg>\n  )\n}\n\n// Progress indicator component\nfunction ProgressIndicator({\n  steps,\n  currentIndex,\n}: {\n  steps: readonly string[]\n  currentIndex: number\n}) {\n  return (\n    <nav aria-label=\"Request progress\" className=\"w-full\">\n      <ol className=\"flex items-center justify-between gap-1\" role=\"list\">\n        {steps.map((label, i) => {\n          const isComplete = i < currentIndex\n          const isCurrent = i === currentIndex\n          return (\n            <li\n              key={label}\n              className=\"flex-1 flex flex-col items-center gap-1\"\n              aria-current={isCurrent ? \"step\" : undefined}\n            >\n              <div\n                className={`h-1.5 w-full rounded-full transition-colors duration-300 ${\n                  isComplete ? \"bg-primary\" : isCurrent ? \"bg-primary/60\" : \"bg-muted\"\n                }`}\n                role=\"progressbar\"\n                aria-valuenow={isComplete ? 100 : isCurrent ? 50 : 0}\n                aria-valuemin={0}\n                aria-valuemax={100}\n                aria-label={`${label}: ${isComplete ? \"Complete\" : isCurrent ? \"In progress\" : \"Not started\"}`}\n              />\n              <span\n                className={`text-[10px] font-medium transition-colors ${\n                  isComplete || isCurrent ? \"text-foreground\" : \"text-muted-foreground\"\n                }`}\n              >\n                {label}\n              </span>\n            </li>\n          )\n        })}\n      </ol>\n    </nav>\n  )\n}\n\n// Accessible step header\nfunction StepHeader({\n  title,\n  subtitle,\n  stepNumber,\n  totalSteps,\n}: {\n  title: string\n  subtitle?: string\n  stepNumber?: number\n  totalSteps?: number\n}) {\n  return (\n    <header className=\"text-center space-y-1\">\n      {stepNumber && totalSteps && (\n        <p className=\"sr-only\">\n          Step {stepNumber} of {totalSteps}\n        </p>\n      )}\n      <h1 className=\"text-xl font-semibold text-foreground leading-tight\">{title}</h1>\n      {subtitle && <p className=\"text-sm text-muted-foreground\">{subtitle}</p>}\n    </header>\n  )\n}\n\n// Error message component\nfunction ErrorMessage({\n  message,\n  onDismiss,\n  id,\n}: {\n  message: string\n  onDismiss?: () => void\n  id?: string\n}) {\n  return (\n    <div\n      role=\"alert\"\n      aria-live=\"assertive\"\n      id={id}\n      className=\"flex items-start gap-3 p-3 rounded-xl bg-destructive/10 border border-destructive/20\"\n    >\n      <AlertCircle className=\"w-5 h-5 text-destructive shrink-0 mt-0.5\" aria-hidden=\"true\" />\n      <p className=\"text-sm text-destructive flex-1\">{message}</p>\n      {onDismiss && (\n        <button\n          type=\"button\"\n          onClick={onDismiss}\n          className=\"p-1 rounded hover:bg-destructive/10 transition-colors\"\n          aria-label=\"Dismiss error\"\n        >\n          <X className=\"w-4 h-4 text-destructive\" />\n        </button>\n      )}\n    </div>\n  )\n}\n\n// Tile button component\nfunction TileButton({\n  selected,\n  onClick,\n  icon: Icon,\n  label,\n  description,\n  className = \"\",\n}: {\n  selected: boolean\n  onClick: () => void\n  icon?: React.ComponentType<{ className?: string }>\n  label: string\n  description?: string\n  className?: string\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      aria-pressed={selected}\n      className={`\n        w-full min-h-[48px] p-3 rounded-xl border-2 transition-all \n        flex items-center gap-3 text-left\n        focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2\n        ${\n          selected\n            ? \"border-primary bg-primary/5 shadow-sm\"\n            : \"border-border bg-white hover:border-primary/40 hover:bg-white/80\"\n        }\n        ${className}\n      `}\n    >\n      {Icon && (\n        <div\n          className={`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${\n            selected ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"\n          }`}\n          aria-hidden=\"true\"\n        >\n          <Icon className=\"w-5 h-5\" />\n        </div>\n      )}\n      <div className=\"flex-1 min-w-0\">\n        <span className=\"font-medium text-sm block\">{label}</span>\n        {description && <span className=\"text-xs text-muted-foreground block truncate\">{description}</span>}\n      </div>\n      {selected && <Check className=\"w-5 h-5 text-primary shrink-0\" aria-hidden=\"true\" />}\n    </button>\n  )\n}\n\n// Chip button for multi-select\nfunction ChipButton({\n  selected,\n  onClick,\n  label,\n  disabled = false,\n}: {\n  selected: boolean\n  onClick: () => void\n  label: string\n  disabled?: boolean\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n      aria-pressed={selected}\n      className={`\n        min-h-[44px] px-4 py-2 rounded-lg text-sm font-medium transition-all\n        focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2\n        disabled:opacity-50 disabled:cursor-not-allowed\n        ${\n          selected\n            ? \"bg-primary text-primary-foreground shadow-sm\"\n            : \"bg-white border border-border hover:border-primary/40\"\n        }\n      `}\n    >\n      {label}\n    </button>\n  )\n}\n\nexport function MedCertFlowClient({\n  patientId: initialPatientId,\n  isAuthenticated: initialIsAuthenticated,\n  needsOnboarding: initialNeedsOnboarding,\n  userEmail,\n  userName,\n}: MedCertFlowClientProps) {\n  const router = useRouter()\n  const mainRef = useRef<HTMLElement>(null)\n  const errorRef = useRef<HTMLDivElement>(null)\n\n  // Auth state\n  const [patientId, setPatientId] = useState<string | null>(initialPatientId)\n  const [isAuthenticated, setIsAuthenticated] = useState(initialIsAuthenticated)\n  const [needsOnboarding, setNeedsOnboarding] = useState(initialNeedsOnboarding)\n\n  // Flow state\n  const [step, setStep] = useState<FlowStep>(\"type\")\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Form data\n  const [certType, setCertType] = useState<string | null>(null)\n  const [duration, setDuration] = useState<string | null>(null)\n  const [specificDateFrom, setSpecificDateFrom] = useState(\"\")\n  const [specificDateTo, setSpecificDateTo] = useState(\"\")\n  const [selectedSymptoms, setSelectedSymptoms] = useState<string[]>([])\n  const [otherSymptom, setOtherSymptom] = useState(\"\")\n  const [additionalNotes, setAdditionalNotes] = useState(\"\")\n\n  // Carer's certificate specific\n  const [carerPatientName, setCarerPatientName] = useState(\"\")\n  const [carerRelationship, setCarerRelationship] = useState<string | null>(null)\n\n  // Safety screening\n  const [hasChestPain, setHasChestPain] = useState<boolean | null>(null)\n  const [hasSevereSymptoms, setHasSevereSymptoms] = useState<boolean | null>(null)\n  const [isEmergency, setIsEmergency] = useState<boolean | null>(null)\n  const [showEmergencyModal, setShowEmergencyModal] = useState(false)\n\n  // Medicare\n  const [medicareNumber, setMedicareNumber] = useState(\"\")\n  const [irn, setIrn] = useState<number | null>(null)\n  const [dateOfBirth, setDateOfBirth] = useState(\"\")\n  const [medicareError, setMedicareError] = useState<string | null>(null)\n  const [medicareValid, setMedicareValid] = useState(false)\n\n  // Signup\n  const [fullName, setFullName] = useState(userName || \"\")\n  const [email, setEmail] = useState(userEmail || \"\")\n  const [password, setPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n  const [termsAccepted, setTermsAccepted] = useState(false)\n  const [signupMode, setSignupMode] = useState<\"new\" | \"existing\">(\"new\")\n  const [isGoogleLoading, setIsGoogleLoading] = useState(false)\n\n  const isCarer = certType === \"carer\"\n  const isRedFlag = hasChestPain === true || hasSevereSymptoms === true || isEmergency === true\n\n  // Focus management on step change\n  useEffect(() => {\n    if (mainRef.current) {\n      mainRef.current.focus()\n    }\n  }, [step])\n\n  // Focus error message when it appears\n  useEffect(() => {\n    if (error && errorRef.current) {\n      errorRef.current.focus()\n    }\n  }, [error])\n\n  // Check for returning users\n  useEffect(() => {\n    const checkSession = async () => {\n      const supabase = createClient()\n      const {\n        data: { session },\n      } = await supabase.auth.getSession()\n\n      if (session?.user && !isAuthenticated) {\n        const pendingName = sessionStorage.getItem(\"pending_profile_name\")\n        const pendingDob = sessionStorage.getItem(\"pending_profile_dob\")\n        const userNameFromSession = pendingName || session.user.user_metadata?.full_name || \"\"\n        const userDob = pendingDob || session.user.user_metadata?.date_of_birth || \"\"\n\n        const { profileId } = await createOrGetProfile(session.user.id, userNameFromSession, userDob)\n\n        if (profileId) {\n          sessionStorage.removeItem(\"pending_profile_name\")\n          sessionStorage.removeItem(\"pending_profile_dob\")\n          setPatientId(profileId)\n          setIsAuthenticated(true)\n          setNeedsOnboarding(false)\n          router.refresh()\n        }\n      }\n    }\n    checkSession()\n  }, [isAuthenticated, router])\n\n  // Auto-advance handlers\n  const selectCertType = useCallback((t: string) => {\n    setCertType(t)\n    setTimeout(() => setStep(\"duration\"), 200)\n  }, [])\n\n  const selectDuration = useCallback((d: string) => {\n    setDuration(d)\n    if (d !== \"specific\") {\n      setTimeout(() => setStep(\"symptoms\"), 200)\n    }\n  }, [])\n\n  // Progress calculation\n  const getCurrentStepIndex = () => {\n    if ([\"type\", \"duration\", \"symptoms\", \"notes\", \"safety\"].includes(step)) return 0\n    if (step === \"medicare\") return 1\n    if (step === \"signup\") return 2\n    if (step === \"review\") return 3\n    if (step === \"payment\") return 4\n    return 0\n  }\n\n  const progressSteps = [\"Details\", \"Medicare\", \"Account\", \"Review\", \"Pay\"] as const\n  const currentProgressIndex = getCurrentStepIndex()\n\n  // Navigation\n  const goNext = useCallback(() => {\n    setError(null)\n    const currentIndex = STEPS.indexOf(step)\n\n    if (step === \"safety\") {\n      if (isAuthenticated && !needsOnboarding) {\n        setStep(\"review\")\n        return\n      }\n      setStep(isAuthenticated ? \"medicare\" : \"medicare\")\n      return\n    }\n\n    if (step === \"medicare\") {\n      setStep(isAuthenticated ? \"review\" : \"signup\")\n      return\n    }\n\n    if (step === \"signup\") {\n      setStep(\"review\")\n      return\n    }\n\n    if (step === \"review\") {\n      setStep(\"payment\")\n      return\n    }\n\n    if (currentIndex < STEPS.length - 1) {\n      setStep(STEPS[currentIndex + 1])\n    }\n  }, [step, isAuthenticated, needsOnboarding])\n\n  const goBack = useCallback(() => {\n    setError(null)\n    const currentIndex = STEPS.indexOf(step)\n\n    if (step === \"payment\") {\n      setStep(\"review\")\n      return\n    }\n\n    if (step === \"review\") {\n      if (isAuthenticated && !needsOnboarding) {\n        setStep(\"safety\")\n        return\n      }\n      setStep(isAuthenticated ? \"medicare\" : \"signup\")\n      return\n    }\n\n    if (step === \"signup\") {\n      setStep(\"medicare\")\n      return\n    }\n\n    if (step === \"medicare\") {\n      setStep(\"safety\")\n      return\n    }\n\n    if (currentIndex > 0) {\n      setStep(STEPS[currentIndex - 1])\n    }\n  }, [step, isAuthenticated, needsOnboarding])\n\n  const goToStep = (targetStep: FlowStep) => {\n    setError(null)\n    setStep(targetStep)\n  }\n\n  const toggleSymptom = (symptom: string) => {\n    setSelectedSymptoms((prev) => (prev.includes(symptom) ? prev.filter((s) => s !== symptom) : [...prev, symptom]))\n  }\n\n  // Medicare validation with realtime feedback using microcopy\n  const formatMedicareNumber = (value: string): string => {\n    const digits = value.replace(/\\D/g, \"\").slice(0, 10)\n    if (digits.length <= 4) return digits\n    if (digits.length <= 9) return `${digits.slice(0, 4)} ${digits.slice(4)}`\n    return `${digits.slice(0, 4)} ${digits.slice(4, 9)} ${digits.slice(9)}`\n  }\n\n  const validateMedicareNumber = (value: string): { error: string | null; valid: boolean } => {\n    const raw = value.replace(/\\s/g, \"\")\n    if (raw.length === 0) return { error: null, valid: false }\n    if (raw.length < 10) return { error: MICROCOPY.medicare.errors.incomplete(10 - raw.length), valid: false }\n    if (!/^[2-6]/.test(raw)) return { error: MICROCOPY.medicare.errors.startDigit, valid: false }\n\n    const weights = [1, 3, 7, 9, 1, 3, 7, 9]\n    let sum = 0\n    for (let i = 0; i < 8; i++) {\n      sum += Number.parseInt(raw[i]) * weights[i]\n    }\n    if (sum % 10 !== Number.parseInt(raw[8])) {\n      return { error: MICROCOPY.medicare.errors.checksum, valid: false }\n    }\n    return { error: null, valid: true }\n  }\n\n  const handleMedicareChange = (value: string) => {\n    const formatted = formatMedicareNumber(value)\n    setMedicareNumber(formatted)\n    const { error, valid } = validateMedicareNumber(formatted)\n    setMedicareError(error)\n    setMedicareValid(valid)\n  }\n\n  // Date range calculation\n  const getDateRange = () => {\n    if (duration === \"specific\") {\n      return { from: specificDateFrom, to: specificDateTo }\n    }\n\n    const today = new Date()\n    const from = today.toISOString().split(\"T\")[0]\n    let to = from\n\n    const durationMap: Record<string, number> = {\n      \"1\": 0,\n      \"2\": 1,\n      \"3\": 2,\n      \"4-7\": 6,\n      \"1-2weeks\": 13,\n    }\n\n    if (duration && duration in durationMap) {\n      const d = new Date(today)\n      d.setDate(d.getDate() + durationMap[duration])\n      to = d.toISOString().split(\"T\")[0]\n    }\n\n    return { from, to }\n  }\n\n  // Validation\n  const canProceed = () => {\n    switch (step) {\n      case \"type\":\n        return certType !== null\n      case \"duration\":\n        return duration === \"specific\" ? specificDateFrom && specificDateTo : duration !== null\n      case \"symptoms\":\n        if (isCarer) {\n          return carerPatientName.trim() && carerRelationship && selectedSymptoms.length > 0\n        }\n        return selectedSymptoms.length > 0\n      case \"notes\":\n        return true\n      case \"safety\":\n        return hasChestPain !== null && hasSevereSymptoms !== null && isEmergency !== null && !isRedFlag\n      case \"medicare\":\n        return medicareValid && irn !== null && dateOfBirth\n      case \"signup\":\n        return signupMode === \"existing\" ? email && password : fullName && email && password && termsAccepted\n      case \"review\":\n      case \"payment\":\n        return true\n      default:\n        return false\n    }\n  }\n\n  // Google auth\n  const handleGoogleAuth = async () => {\n    setIsGoogleLoading(true)\n    setError(null)\n\n    const supabase = createClient()\n\n    try {\n      sessionStorage.setItem(\"questionnaire_flow\", \"true\")\n      sessionStorage.setItem(\"questionnaire_path\", window.location.pathname)\n      sessionStorage.setItem(\"pending_profile_dob\", dateOfBirth)\n\n      const callbackUrl = new URL(\"/auth/callback\", window.location.origin)\n      callbackUrl.searchParams.set(\"redirect\", window.location.pathname)\n      callbackUrl.searchParams.set(\"flow\", \"questionnaire\")\n\n      const { error } = await supabase.auth.signInWithOAuth({\n        provider: \"google\",\n        options: {\n          redirectTo: process.env.NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL || callbackUrl.toString(),\n        },\n      })\n\n      if (error) throw error\n    } catch (err) {\n      setError(err instanceof Error ? err.message : MICROCOPY.errors.signIn)\n      setIsGoogleLoading(false)\n    }\n  }\n\n  // Email signup\n  const handleEmailSignup = async () => {\n    setIsSubmitting(true)\n    setError(null)\n\n    const supabase = createClient()\n\n    try {\n      sessionStorage.setItem(\"pending_profile_name\", fullName)\n      sessionStorage.setItem(\"pending_profile_dob\", dateOfBirth)\n      sessionStorage.setItem(\"questionnaire_flow\", \"true\")\n      sessionStorage.setItem(\"questionnaire_path\", window.location.pathname)\n\n      if (signupMode === \"existing\") {\n        const { data: authData, error: signInError } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        })\n\n        if (signInError) throw signInError\n        if (!authData.user) throw new Error(MICROCOPY.errors.signIn)\n\n        const { profileId } = await createOrGetProfile(\n          authData.user.id,\n          authData.user.user_metadata?.full_name || \"\",\n          dateOfBirth,\n        )\n\n        if (!profileId) throw new Error(MICROCOPY.errors.generic)\n\n        setPatientId(profileId)\n        setIsAuthenticated(true)\n        setNeedsOnboarding(false)\n        goNext()\n      } else {\n        const { data: authData, error: signUpError } = await supabase.auth.signUp({\n          email,\n          password,\n          options: {\n            emailRedirectTo:\n              process.env.NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL ||\n              `${window.location.origin}${window.location.pathname}`,\n            data: {\n              full_name: fullName,\n              date_of_birth: dateOfBirth,\n              role: \"patient\",\n            },\n          },\n        })\n\n        if (signUpError) throw signUpError\n        if (!authData.user) throw new Error(MICROCOPY.errors.signUp)\n\n        if (authData.session) {\n          const { profileId } = await createOrGetProfile(authData.user.id, fullName, dateOfBirth)\n\n          if (!profileId) throw new Error(MICROCOPY.errors.generic)\n\n          await supabase\n            .from(\"profiles\")\n            .update({\n              medicare_number: medicareNumber.replace(/\\s/g, \"\"),\n              medicare_irn: irn,\n              onboarding_completed: true,\n            })\n            .eq(\"id\", profileId)\n\n          setPatientId(profileId)\n          setIsAuthenticated(true)\n          setNeedsOnboarding(false)\n          goNext()\n        } else {\n          setError(MICROCOPY.signup.confirmEmail)\n          setSignupMode(\"existing\")\n        }\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : MICROCOPY.errors.generic)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  // Submit and pay\n  const handleSubmit = async () => {\n    if (!patientId) {\n      setError(MICROCOPY.errors.session)\n      setStep(\"signup\")\n      return\n    }\n\n    setIsSubmitting(true)\n    setError(null)\n\n    const dates = getDateRange()\n\n    const answers = {\n      certificate_type: certType,\n      duration,\n      date_from: dates.from,\n      date_to: dates.to,\n      symptoms: selectedSymptoms,\n      other_symptom: selectedSymptoms.includes(\"Other\") ? otherSymptom : null,\n      additional_notes: additionalNotes || null,\n      carer_patient_name: isCarer ? carerPatientName : null,\n      carer_relationship: isCarer ? carerRelationship : null,\n      safety_chest_pain: hasChestPain,\n      safety_severe_symptoms: hasSevereSymptoms,\n      safety_emergency: isEmergency,\n    }\n\n    try {\n      const result = await createRequestAndCheckoutAction({\n        category: \"medical_certificate\",\n        subtype: certType || \"work\",\n        type: \"med_cert\",\n        answers,\n      })\n\n      if (!result.success) {\n        throw new Error(result.error || MICROCOPY.errors.payment)\n      }\n\n      if (result.checkoutUrl) {\n        window.location.href = result.checkoutUrl\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : MICROCOPY.errors.generic)\n      setIsSubmitting(false)\n    }\n  }\n\n  // Format date for display\n  const formatDate = (dateStr: string) => {\n    if (!dateStr) return \"\"\n    return new Date(dateStr).toLocaleDateString(\"en-AU\", {\n      weekday: \"short\",\n      day: \"numeric\",\n      month: \"short\",\n    })\n  }\n\n  // Get duration label for review\n  const getDurationLabel = () => {\n    if (duration === \"specific\") {\n      return `${formatDate(specificDateFrom)} – ${formatDate(specificDateTo)}`\n    }\n    return DURATION_OPTIONS.find((o) => o.value === duration)?.label || duration\n  }\n\n  // Get cert type label\n  const getCertTypeLabel = () => {\n    return CERT_TYPES.find((t) => t.id === certType)?.label || certType\n  }\n\n  // Render step content\n  const renderStep = () => {\n    switch (step) {\n      case \"type\":\n        return (\n          <section aria-labelledby=\"step-type-heading\" className=\"space-y-4\">\n            <StepHeader\n              title={MICROCOPY.type.heading}\n              subtitle={MICROCOPY.type.subtitle}\n              stepNumber={1}\n              totalSteps={5}\n            />\n\n            <div className=\"space-y-2\" role=\"radiogroup\" aria-label=\"Certificate type\">\n              {CERT_TYPES.map((type) => (\n                <TileButton\n                  key={type.id}\n                  selected={certType === type.id}\n                  onClick={() => selectCertType(type.id)}\n                  icon={type.icon}\n                  label={type.label}\n                  description={type.description}\n                />\n              ))}\n            </div>\n          </section>\n        )\n\n      case \"duration\":\n        return (\n          <section aria-labelledby=\"step-duration-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.duration.heading} />\n\n            <div className=\"grid grid-cols-2 gap-2\" role=\"radiogroup\" aria-label=\"Duration\">\n              {DURATION_OPTIONS.map((option) => (\n                <button\n                  key={option.value}\n                  type=\"button\"\n                  onClick={() => selectDuration(option.value)}\n                  aria-pressed={duration === option.value}\n                  className={`\n                    min-h-[48px] p-3 rounded-xl border-2 font-medium text-sm transition-all\n                    focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2\n                    ${\n                      duration === option.value\n                        ? \"border-primary bg-primary text-primary-foreground\"\n                        : \"border-border bg-white hover:border-primary/40\"\n                    }\n                  `}\n                >\n                  {option.label}\n                </button>\n              ))}\n            </div>\n\n            {duration === \"specific\" && (\n              <fieldset className=\"space-y-3 p-3 rounded-xl bg-muted/50\">\n                <legend className=\"sr-only\">Specific date range</legend>\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"date-from\" className=\"text-xs font-medium\">\n                      {MICROCOPY.duration.dateFrom}\n                    </Label>\n                    <Input\n                      id=\"date-from\"\n                      type=\"date\"\n                      value={specificDateFrom}\n                      onChange={(e) => setSpecificDateFrom(e.target.value)}\n                      className=\"h-11 rounded-xl\"\n                    />\n                  </div>\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"date-to\" className=\"text-xs font-medium\">\n                      {MICROCOPY.duration.dateTo}\n                    </Label>\n                    <Input\n                      id=\"date-to\"\n                      type=\"date\"\n                      value={specificDateTo}\n                      onChange={(e) => setSpecificDateTo(e.target.value)}\n                      className=\"h-11 rounded-xl\"\n                      min={specificDateFrom}\n                    />\n                  </div>\n                </div>\n              </fieldset>\n            )}\n          </section>\n        )\n\n      case \"symptoms\":\n        return (\n          <section aria-labelledby=\"step-symptoms-heading\" className=\"space-y-4\">\n            <StepHeader\n              title={isCarer ? MICROCOPY.symptoms.headingCarer : MICROCOPY.symptoms.heading}\n              subtitle={MICROCOPY.symptoms.subtitle}\n            />\n\n            {isCarer && (\n              <fieldset className=\"space-y-3\">\n                <legend className=\"sr-only\">Person being cared for</legend>\n                <div className=\"space-y-1\">\n                  <Label htmlFor=\"carer-name\" className=\"text-xs font-medium\">\n                    {MICROCOPY.symptoms.carerName}\n                  </Label>\n                  <Input\n                    id=\"carer-name\"\n                    placeholder={MICROCOPY.symptoms.carerNamePlaceholder}\n                    value={carerPatientName}\n                    onChange={(e) => setCarerPatientName(e.target.value)}\n                    className=\"h-11 rounded-xl\"\n                    autoComplete=\"off\"\n                  />\n                </div>\n                <div className=\"space-y-1\">\n                  <Label className=\"text-xs font-medium\">{MICROCOPY.symptoms.relationship}</Label>\n                  <div className=\"flex flex-wrap gap-2\" role=\"radiogroup\" aria-label=\"Relationship\">\n                    {RELATIONSHIPS.map((rel) => (\n                      <ChipButton\n                        key={rel}\n                        selected={carerRelationship === rel}\n                        onClick={() => setCarerRelationship(rel)}\n                        label={rel}\n                      />\n                    ))}\n                  </div>\n                </div>\n              </fieldset>\n            )}\n\n            <div className=\"grid grid-cols-2 gap-2\" role=\"group\" aria-label=\"Symptoms\">\n              {SYMPTOMS.map((symptom) => (\n                <ChipButton\n                  key={symptom}\n                  selected={selectedSymptoms.includes(symptom)}\n                  onClick={() => toggleSymptom(symptom)}\n                  label={symptom}\n                />\n              ))}\n            </div>\n\n            {selectedSymptoms.includes(\"Other\") && (\n              <div className=\"space-y-1\">\n                <Label htmlFor=\"other-symptom\" className=\"text-xs font-medium\">\n                  {MICROCOPY.symptoms.otherLabel}\n                </Label>\n                <Input\n                  id=\"other-symptom\"\n                  placeholder={MICROCOPY.symptoms.otherPlaceholder}\n                  value={otherSymptom}\n                  onChange={(e) => setOtherSymptom(e.target.value)}\n                  className=\"h-11 rounded-xl\"\n                />\n              </div>\n            )}\n          </section>\n        )\n\n      case \"notes\":\n        return (\n          <section aria-labelledby=\"step-notes-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.notes.heading} subtitle={MICROCOPY.notes.subtitle} />\n\n            <div className=\"space-y-1\">\n              <Label htmlFor=\"notes\" className=\"sr-only\">\n                Additional notes\n              </Label>\n              <Textarea\n                id=\"notes\"\n                placeholder={MICROCOPY.notes.placeholder}\n                value={additionalNotes}\n                onChange={(e) => setAdditionalNotes(e.target.value)}\n                className=\"min-h-[120px] rounded-xl resize-none\"\n                maxLength={500}\n              />\n              <p className=\"text-xs text-muted-foreground text-right\">\n                {MICROCOPY.notes.charCount(additionalNotes.length)}\n              </p>\n            </div>\n          </section>\n        )\n\n      case \"safety\":\n        return (\n          <section aria-labelledby=\"step-safety-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.safety.heading} subtitle={MICROCOPY.safety.subtitle} />\n\n            <fieldset className=\"space-y-3\">\n              <legend className=\"sr-only\">Safety screening questions</legend>\n\n              {[\n                {\n                  id: \"chest-pain\",\n                  question: MICROCOPY.safety.questions.chestPain,\n                  value: hasChestPain,\n                  setter: setHasChestPain,\n                },\n                {\n                  id: \"severe\",\n                  question: MICROCOPY.safety.questions.severe,\n                  value: hasSevereSymptoms,\n                  setter: setHasSevereSymptoms,\n                },\n                {\n                  id: \"emergency\",\n                  question: MICROCOPY.safety.questions.emergency,\n                  value: isEmergency,\n                  setter: setIsEmergency,\n                },\n              ].map(({ id, question, value, setter }) => (\n                <div\n                  key={id}\n                  className=\"flex items-center justify-between p-3 rounded-xl bg-white border border-border\"\n                >\n                  <span className=\"text-sm font-medium pr-4\">{question}</span>\n                  <div className=\"flex gap-2\" role=\"radiogroup\" aria-label={question}>\n                    {[\n                      { label: MICROCOPY.safety.no, val: false },\n                      { label: MICROCOPY.safety.yes, val: true },\n                    ].map(({ label, val }) => (\n                      <button\n                        key={label}\n                        type=\"button\"\n                        onClick={() => {\n                          setter(val)\n                          if (val) setShowEmergencyModal(true)\n                        }}\n                        aria-pressed={value === val}\n                        className={`\n                          min-w-[48px] min-h-[44px] px-4 py-2 rounded-lg text-sm font-medium transition-all\n                          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2\n                          ${\n                            value === val\n                              ? val\n                                ? \"bg-destructive text-destructive-foreground\"\n                                : \"bg-primary text-primary-foreground\"\n                              : \"bg-muted hover:bg-muted/80\"\n                          }\n                        `}\n                      >\n                        {label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </fieldset>\n\n            {isRedFlag && (\n              <div role=\"alert\" className=\"p-4 rounded-xl bg-destructive/10 border border-destructive/20 space-y-2\">\n                <div className=\"flex items-center gap-2 text-destructive\">\n                  <AlertTriangle className=\"w-5 h-5\" aria-hidden=\"true\" />\n                  <span className=\"font-semibold\">{MICROCOPY.safety.alert.heading}</span>\n                </div>\n                <p className=\"text-sm text-destructive/90\">{MICROCOPY.safety.alert.body}</p>\n                <Button variant=\"destructive\" className=\"w-full mt-2\" onClick={() => window.open(\"tel:000\")}>\n                  {MICROCOPY.safety.alert.cta}\n                </Button>\n              </div>\n            )}\n          </section>\n        )\n\n      case \"medicare\":\n        return (\n          <section aria-labelledby=\"step-medicare-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.medicare.heading} subtitle={MICROCOPY.medicare.subtitle} />\n\n            <div className=\"p-4 rounded-xl bg-white border border-border space-y-4\">\n              <div className=\"space-y-1\">\n                <Label htmlFor=\"medicare-number\" className=\"text-xs font-medium\">\n                  {MICROCOPY.medicare.numberLabel}\n                </Label>\n                <div className=\"relative\">\n                  <Input\n                    id=\"medicare-number\"\n                    type=\"text\"\n                    inputMode=\"numeric\"\n                    placeholder={MICROCOPY.medicare.numberPlaceholder}\n                    value={medicareNumber}\n                    onChange={(e) => handleMedicareChange(e.target.value)}\n                    className={`h-12 rounded-xl text-lg tracking-wider pr-10 font-mono ${\n                      medicareError ? \"border-destructive\" : medicareValid ? \"border-green-500\" : \"\"\n                    }`}\n                    aria-describedby={medicareError ? \"medicare-error\" : medicareValid ? \"medicare-success\" : undefined}\n                    aria-invalid={!!medicareError}\n                    autoComplete=\"off\"\n                  />\n                  <div className=\"absolute right-3 top-1/2 -translate-y-1/2\">\n                    {medicareValid && <CheckCircle className=\"w-5 h-5 text-green-500\" aria-hidden=\"true\" />}\n                    {medicareError && medicareNumber.length > 0 && (\n                      <AlertCircle className=\"w-5 h-5 text-destructive\" aria-hidden=\"true\" />\n                    )}\n                  </div>\n                </div>\n                {medicareError && medicareNumber.length > 0 && (\n                  <p id=\"medicare-error\" className=\"text-xs text-destructive\" role=\"alert\">\n                    {medicareError}\n                  </p>\n                )}\n                {medicareValid && (\n                  <p id=\"medicare-success\" className=\"text-xs text-green-600\">\n                    {MICROCOPY.medicare.valid}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"space-y-1\">\n                <div className=\"flex items-center gap-1\">\n                  <Label className=\"text-xs font-medium\">{MICROCOPY.medicare.irnLabel}</Label>\n                  <TooltipProvider>\n                    <Tooltip>\n                      <TooltipTrigger asChild>\n                        <button type=\"button\" className=\"p-0.5 rounded-full hover:bg-muted\" aria-label=\"What is IRN?\">\n                          <HelpCircle className=\"w-3.5 h-3.5 text-muted-foreground\" />\n                        </button>\n                      </TooltipTrigger>\n                      <TooltipContent side=\"top\" className=\"max-w-[200px]\">\n                        <p className=\"text-xs\">{MICROCOPY.medicare.irnTooltip}</p>\n                      </TooltipContent>\n                    </Tooltip>\n                  </TooltipProvider>\n                </div>\n                <div className=\"flex gap-1.5 flex-wrap\" role=\"radiogroup\" aria-label=\"Individual Reference Number\">\n                  {IRNS.map((num) => (\n                    <button\n                      key={num}\n                      type=\"button\"\n                      onClick={() => setIrn(num)}\n                      aria-pressed={irn === num}\n                      className={`\n                        w-10 h-10 rounded-lg text-sm font-medium transition-all\n                        focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2\n                        ${irn === num ? \"bg-primary text-primary-foreground\" : \"bg-muted hover:bg-muted/80\"}\n                      `}\n                    >\n                      {num}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"space-y-1\">\n                <Label htmlFor=\"dob\" className=\"text-xs font-medium\">\n                  {MICROCOPY.medicare.dobLabel}\n                </Label>\n                <Input\n                  id=\"dob\"\n                  type=\"date\"\n                  value={dateOfBirth}\n                  onChange={(e) => setDateOfBirth(e.target.value)}\n                  className=\"h-12 rounded-xl\"\n                  max={new Date().toISOString().split(\"T\")[0]}\n                />\n              </div>\n            </div>\n          </section>\n        )\n\n      case \"signup\":\n        return (\n          <section aria-labelledby=\"step-signup-heading\" className=\"space-y-4\">\n            <StepHeader\n              title={signupMode === \"new\" ? MICROCOPY.signup.headingNew : MICROCOPY.signup.headingExisting}\n              subtitle={MICROCOPY.signup.subtitle}\n            />\n\n            <div className=\"space-y-3\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={handleGoogleAuth}\n                disabled={isGoogleLoading}\n                className=\"w-full h-12 rounded-xl gap-3 bg-transparent\"\n              >\n                {isGoogleLoading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <GoogleIcon className=\"w-5 h-5\" />}\n                {MICROCOPY.signup.google}\n              </Button>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-border\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs\">\n                  <span className=\"bg-background px-3 text-muted-foreground\">{MICROCOPY.signup.or}</span>\n                </div>\n              </div>\n\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault()\n                  handleEmailSignup()\n                }}\n                className=\"space-y-3\"\n              >\n                {signupMode === \"new\" && (\n                  <div className=\"space-y-1\">\n                    <Label htmlFor=\"fullName\" className=\"text-xs font-medium\">\n                      {MICROCOPY.signup.nameLabel}\n                    </Label>\n                    <Input\n                      id=\"fullName\"\n                      type=\"text\"\n                      placeholder={MICROCOPY.signup.namePlaceholder}\n                      value={fullName}\n                      onChange={(e) => setFullName(e.target.value)}\n                      className=\"h-11 rounded-xl\"\n                      autoComplete=\"name\"\n                      required\n                    />\n                  </div>\n                )}\n\n                <div className=\"space-y-1\">\n                  <Label htmlFor=\"email\" className=\"text-xs font-medium\">\n                    {MICROCOPY.signup.emailLabel}\n                  </Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder={MICROCOPY.signup.emailPlaceholder}\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"h-11 rounded-xl\"\n                    autoComplete=\"email\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-1\">\n                  <Label htmlFor=\"password\" className=\"text-xs font-medium\">\n                    {MICROCOPY.signup.passwordLabel}\n                  </Label>\n                  <div className=\"relative\">\n                    <Input\n                      id=\"password\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder={\n                        signupMode === \"new\"\n                          ? MICROCOPY.signup.passwordPlaceholderNew\n                          : MICROCOPY.signup.passwordPlaceholderExisting\n                      }\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      className=\"h-11 rounded-xl pr-10\"\n                      autoComplete={signupMode === \"new\" ? \"new-password\" : \"current-password\"}\n                      required\n                      minLength={signupMode === \"new\" ? 8 : undefined}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-muted\"\n                      aria-label={showPassword ? MICROCOPY.signup.hidePassword : MICROCOPY.signup.showPassword}\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"w-4 h-4 text-muted-foreground\" />\n                      ) : (\n                        <Eye className=\"w-4 h-4 text-muted-foreground\" />\n                      )}\n                    </button>\n                  </div>\n                  {signupMode === \"existing\" && (\n                    <Link href=\"/auth/forgot-password\" className=\"text-xs text-primary hover:underline\">\n                      {MICROCOPY.signup.forgotPassword}\n                    </Link>\n                  )}\n                </div>\n\n                {signupMode === \"new\" && (\n                  <div className=\"flex items-start gap-2\">\n                    <Checkbox\n                      id=\"terms\"\n                      checked={termsAccepted}\n                      onCheckedChange={(checked) => setTermsAccepted(!!checked)}\n                      className=\"mt-0.5\"\n                    />\n                    <Label htmlFor=\"terms\" className=\"text-xs text-muted-foreground leading-tight\">\n                      {MICROCOPY.signup.terms.prefix}{\" \"}\n                      <Link href=\"/terms\" className=\"text-primary hover:underline\">\n                        {MICROCOPY.signup.terms.termsLink}\n                      </Link>{\" \"}\n                      {MICROCOPY.signup.terms.and}{\" \"}\n                      <Link href=\"/privacy\" className=\"text-primary hover:underline\">\n                        {MICROCOPY.signup.terms.privacyLink}\n                      </Link>\n                    </Label>\n                  </div>\n                )}\n\n                <Button type=\"submit\" disabled={isSubmitting || !canProceed()} className=\"w-full h-12 rounded-xl\">\n                  {isSubmitting ? (\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  ) : signupMode === \"new\" ? (\n                    MICROCOPY.signup.ctaNew\n                  ) : (\n                    MICROCOPY.signup.ctaExisting\n                  )}\n                </Button>\n              </form>\n\n              <p className=\"text-center text-xs text-muted-foreground\">\n                {signupMode === \"new\" ? (\n                  <>\n                    {MICROCOPY.signup.switchToExisting}{\" \"}\n                    <button\n                      type=\"button\"\n                      onClick={() => setSignupMode(\"existing\")}\n                      className=\"text-primary hover:underline font-medium\"\n                    >\n                      {MICROCOPY.signup.signIn}\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    {MICROCOPY.signup.switchToNew}{\" \"}\n                    <button\n                      type=\"button\"\n                      onClick={() => setSignupMode(\"new\")}\n                      className=\"text-primary hover:underline font-medium\"\n                    >\n                      {MICROCOPY.signup.createAccount}\n                    </button>\n                  </>\n                )}\n              </p>\n            </div>\n          </section>\n        )\n\n      case \"review\":\n        return (\n          <section aria-labelledby=\"step-review-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.review.heading} subtitle={MICROCOPY.review.subtitle} />\n\n            <div className=\"rounded-xl border border-border bg-white divide-y divide-border\">\n              {/* Certificate type */}\n              <div className=\"flex items-center justify-between p-3\">\n                <div className=\"space-y-0.5\">\n                  <p className=\"text-xs text-muted-foreground\">{MICROCOPY.review.certificateType}</p>\n                  <p className=\"text-sm font-medium\">{getCertTypeLabel()}</p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => goToStep(\"type\")}\n                  className=\"p-2 rounded-lg hover:bg-muted transition-colors\"\n                  aria-label={`${MICROCOPY.review.edit} ${MICROCOPY.review.certificateType}`}\n                >\n                  <Pencil className=\"w-4 h-4 text-muted-foreground\" />\n                </button>\n              </div>\n\n              {/* Duration */}\n              <div className=\"flex items-center justify-between p-3\">\n                <div className=\"space-y-0.5\">\n                  <p className=\"text-xs text-muted-foreground\">{MICROCOPY.review.duration}</p>\n                  <p className=\"text-sm font-medium\">{getDurationLabel()}</p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => goToStep(\"duration\")}\n                  className=\"p-2 rounded-lg hover:bg-muted transition-colors\"\n                  aria-label={`${MICROCOPY.review.edit} ${MICROCOPY.review.duration}`}\n                >\n                  <Pencil className=\"w-4 h-4 text-muted-foreground\" />\n                </button>\n              </div>\n\n              {/* Symptoms */}\n              <div className=\"flex items-center justify-between p-3\">\n                <div className=\"space-y-0.5 flex-1 min-w-0\">\n                  <p className=\"text-xs text-muted-foreground\">{MICROCOPY.review.symptoms}</p>\n                  <p className=\"text-sm font-medium truncate\">\n                    {selectedSymptoms.join(\", \")}\n                    {selectedSymptoms.includes(\"Other\") && otherSymptom && ` (${otherSymptom})`}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => goToStep(\"symptoms\")}\n                  className=\"p-2 rounded-lg hover:bg-muted transition-colors shrink-0\"\n                  aria-label={`${MICROCOPY.review.edit} ${MICROCOPY.review.symptoms}`}\n                >\n                  <Pencil className=\"w-4 h-4 text-muted-foreground\" />\n                </button>\n              </div>\n\n              {/* Notes */}\n              <div className=\"flex items-center justify-between p-3\">\n                <div className=\"space-y-0.5 flex-1 min-w-0\">\n                  <p className=\"text-xs text-muted-foreground\">{MICROCOPY.review.notes}</p>\n                  <p className=\"text-sm font-medium truncate\">{additionalNotes || MICROCOPY.review.none}</p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => goToStep(\"notes\")}\n                  className=\"p-2 rounded-lg hover:bg-muted transition-colors shrink-0\"\n                  aria-label={`${MICROCOPY.review.edit} ${MICROCOPY.review.notes}`}\n                >\n                  <Pencil className=\"w-4 h-4 text-muted-foreground\" />\n                </button>\n              </div>\n\n              {/* Medicare */}\n              <div className=\"flex items-center justify-between p-3\">\n                <div className=\"space-y-0.5\">\n                  <p className=\"text-xs text-muted-foreground\">{MICROCOPY.review.medicare}</p>\n                  <p className=\"text-sm font-medium font-mono\">\n                    {medicareNumber} (IRN {irn})\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => goToStep(\"medicare\")}\n                  className=\"p-2 rounded-lg hover:bg-muted transition-colors\"\n                  aria-label={`${MICROCOPY.review.edit} ${MICROCOPY.review.medicare}`}\n                >\n                  <Pencil className=\"w-4 h-4 text-muted-foreground\" />\n                </button>\n              </div>\n            </div>\n          </section>\n        )\n\n      case \"payment\":\n        return (\n          <section aria-labelledby=\"step-payment-heading\" className=\"space-y-4\">\n            <StepHeader title={MICROCOPY.payment.heading} subtitle={MICROCOPY.payment.subtitle} />\n\n            <div className=\"rounded-xl border border-border bg-white p-4 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center\">\n                    <FileText className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-sm\">Medical Certificate</p>\n                    <p className=\"text-xs text-muted-foreground\">{getCertTypeLabel()}</p>\n                  </div>\n                </div>\n                <p className=\"text-lg font-semibold\">{MICROCOPY.payment.price}</p>\n              </div>\n\n              <div className=\"space-y-2 pt-2 border-t border-border\">\n                {MICROCOPY.payment.includes.map((item, i) => (\n                  <div key={i} className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                    <CheckCircle className=\"w-4 h-4 text-green-500 shrink-0\" />\n                    <span>{item}</span>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex items-start gap-2 p-3 rounded-lg bg-muted/50\">\n                <Shield className=\"w-4 h-4 text-muted-foreground shrink-0 mt-0.5\" />\n                <p className=\"text-xs text-muted-foreground\">{MICROCOPY.payment.disclaimer}</p>\n              </div>\n            </div>\n\n            {/* Turnaround info */}\n            <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n              <Clock className=\"w-4 h-4\" />\n              <span>{MICROCOPY.turnaround}</span>\n            </div>\n          </section>\n        )\n\n      default:\n        return null\n    }\n  }\n\n  return (\n    <TooltipProvider>\n      <main\n        ref={mainRef}\n        tabIndex={-1}\n        className=\"min-h-screen bg-background flex flex-col\"\n        aria-label=\"Medical certificate request\"\n      >\n        {/* Header */}\n        <header className=\"sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border px-4 py-3\">\n          <div className=\"max-w-md mx-auto space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <Link href=\"/\" className=\"text-sm font-semibold text-primary\">\n                InstantMed\n              </Link>\n              <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n                <Clock className=\"w-3.5 h-3.5\" aria-hidden=\"true\" />\n                <span>{MICROCOPY.turnaround}</span>\n              </div>\n            </div>\n            <ProgressIndicator steps={progressSteps} currentIndex={currentProgressIndex} />\n          </div>\n        </header>\n\n        {/* Content */}\n        <div className=\"flex-1 px-4 py-5\">\n          <div className=\"max-w-md mx-auto\">\n            {error && (\n              <div ref={errorRef} tabIndex={-1} className=\"mb-4\">\n                <ErrorMessage message={error} onDismiss={() => setError(null)} />\n              </div>\n            )}\n\n            {renderStep()}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <footer className=\"sticky bottom-0 bg-background/95 backdrop-blur-sm border-t border-border px-4 py-3\">\n          <div className=\"max-w-md mx-auto flex gap-3\">\n            {step !== \"type\" && (\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                onClick={goBack}\n                className=\"h-12 px-4 rounded-xl\"\n                aria-label={MICROCOPY.nav.back}\n              >\n                <ArrowLeft className=\"w-5 h-5\" />\n              </Button>\n            )}\n\n            {step === \"payment\" ? (\n              <Button onClick={handleSubmit} disabled={isSubmitting} className=\"flex-1 h-12 rounded-xl gap-2\">\n                {isSubmitting ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    {MICROCOPY.payment.processing}\n                  </>\n                ) : (\n                  <>\n                    {MICROCOPY.payment.cta}\n                    <ArrowRight className=\"w-5 h-5\" />\n                  </>\n                )}\n              </Button>\n            ) : step === \"signup\" ? null : (\n              <Button onClick={goNext} disabled={!canProceed()} className=\"flex-1 h-12 rounded-xl gap-2\">\n                {MICROCOPY.nav.continue}\n                <ArrowRight className=\"w-5 h-5\" />\n              </Button>\n            )}\n          </div>\n        </footer>\n      </main>\n    </TooltipProvider>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}