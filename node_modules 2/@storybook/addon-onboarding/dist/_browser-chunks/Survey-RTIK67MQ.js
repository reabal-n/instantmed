import {
  IntentSurvey
} from "./chunk-BTSM33XX.js";
import {
  ADDON_ONBOARDING_CHANNEL
} from "./chunk-VFOIHBP2.js";
import "./chunk-ZYVL3X5E.js";

// src/Survey.tsx
import React, { useCallback } from "react";
import { ThemeProvider, convert } from "storybook/theming";
var theme = convert();
function Survey({ api }) {
  let userAgent = globalThis?.navigator?.userAgent, disableOnboarding = useCallback(() => {
    let url = new URL(window.location.href);
    url.searchParams.set("onboarding", "false"), history.replaceState({}, "", url.href), api.setQueryParams({ onboarding: "false" });
  }, [api]), complete = useCallback(
    (answers) => {
      api.emit(ADDON_ONBOARDING_CHANNEL, {
        answers,
        type: "survey",
        userAgent
      }), disableOnboarding();
    },
    [api, disableOnboarding, userAgent]
  ), dismiss = useCallback(() => {
    api.emit(ADDON_ONBOARDING_CHANNEL, {
      type: "dismissSurvey"
    }), disableOnboarding();
  }, [api, disableOnboarding]);
  return React.createElement(ThemeProvider, { theme }, React.createElement(IntentSurvey, { onComplete: complete, onDismiss: dismiss }));
}
export {
  Survey as default
};
