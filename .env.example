# =============================================================================
# InstantMed Environment Variables Template
# =============================================================================
# Copy this file to .env.local for local development
# Configure in Vercel dashboard for production deployment
#
# SECURITY: Never commit .env.local or production credentials to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Database (REQUIRED)
# -----------------------------------------------------------------------------
# Get these from: https://app.supabase.com/ > Project Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# -----------------------------------------------------------------------------
# Stripe Payments (REQUIRED)
# -----------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys
# IMPORTANT: Use test keys (pk_test_/sk_test_) for development
#            Use live keys (pk_live_/sk_live_) for production only
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...

# Get webhook secret from: https://dashboard.stripe.com/webhooks
# Create webhook endpoint pointing to: https://your-domain.com/api/stripe/webhook
# Events to listen for: checkout.session.completed, checkout.session.expired
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (create these in Stripe Dashboard > Products)
# Use test prices (price_test_*) for development, live prices (price_*) for production
STRIPE_PRICE_MEDCERT=price_test_...
STRIPE_PRICE_PRESCRIPTION=price_test_...
STRIPE_PRICE_CONSULT=price_test_...

# -----------------------------------------------------------------------------
# Application URL (REQUIRED)
# -----------------------------------------------------------------------------
# Local: http://localhost:3000
# Production: https://instantmed.com.au (or your actual domain)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Vercel AI Gateway (REQUIRED for AI features)
# -----------------------------------------------------------------------------
# Option A: API Key - Get from Vercel Dashboard > AI Gateway
# Option B: OIDC (automatic on Vercel deployments - no key needed)
# Used for: clinical note generation, decline reason drafting, chat intake
AI_GATEWAY_API_KEY=your_api_key_here

# -----------------------------------------------------------------------------
# Sentry Error Tracking (OPTIONAL - highly recommended for production)
# -----------------------------------------------------------------------------
# Get these from: https://sentry.io/
NEXT_PUBLIC_SENTRY_DSN=https://your-hash@sentry.io/your-project-id
SENTRY_ORG=your-organization-slug
SENTRY_PROJECT=instantmed
SENTRY_AUTH_TOKEN=your-auth-token

# -----------------------------------------------------------------------------
# Email Service - Resend (REQUIRED for notifications)
# -----------------------------------------------------------------------------
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_...

# -----------------------------------------------------------------------------
# Internal API Security (REQUIRED)
# -----------------------------------------------------------------------------
# Generate a secure random string (minimum 32 characters)
# Example: openssl rand -base64 32
INTERNAL_API_SECRET=your-secure-random-string-here

# -----------------------------------------------------------------------------
# Upstash Redis - Rate Limiting (OPTIONAL - recommended for production)
# -----------------------------------------------------------------------------
# Get these from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token

# -----------------------------------------------------------------------------
# Feature Flags (OPTIONAL)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_OCR=true

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
# Use 'development' for local, 'production' for production
NODE_ENV=development

# -----------------------------------------------------------------------------
# Additional Optional Services
# -----------------------------------------------------------------------------

# APITemplate.io (for alternative PDF generation if used)
# APITEMPLATE_API_KEY=your-api-key

# Google Analytics (if using)
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog Analytics (if using)
# NEXT_PUBLIC_POSTHOG_KEY=phc_...
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
